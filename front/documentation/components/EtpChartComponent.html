<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>a-just-front documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">a-just-front documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li class="breadcrumb-item">Components</li>
  <li class="breadcrumb-item"
  >
  EtpChartComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" class="nav-link"
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
        <li class="nav-item">
            <a href="#templateData" class="nav-link"
                role="tab" id="templateData-tab" data-bs-toggle="tab" data-link="template">Template</a>
        </li>
        <li class="nav-item">
            <a href="#styleData" class="nav-link"
                role="tab" id="styleData-tab" data-bs-toggle="tab" data-link="style">Styles</a>
        </li>
        <li class="nav-item">
            <a href="#tree" class="nav-link"
                role="tab" id="tree-tab" data-bs-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts</code>
</p>


    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>Composant graphique etp du simulateur</p>

    </p>


    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                <code>AfterViewInit</code>
                <code>OnDestroy</code>
    </p>


<section data-compodoc="block-metadata">
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>












            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>aj-etp-chart</code></td>
            </tr>

            <tr>
                <td class="col-md-3">standalone</td>
                <td class="col-md-9"><code>true</code></td>
            </tr>

            <tr>
                <td class="col-md-3">imports</td>
                <td class="col-md-9">
                            <code>CommonModule</code>
                                <code><a href="../components/LegendLabelComponent.html" target="_self" >LegendLabelComponent</a></code>
                </td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./etp-chart.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./etp-chart.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#data" >data</a>
                            </li>
                            <li>
                                <a href="#dateStart" >dateStart</a>
                            </li>
                            <li>
                                <a href="#dateStop" >dateStop</a>
                            </li>
                            <li>
                                <a href="#elementRef" >elementRef</a>
                            </li>
                            <li>
                                <a href="#labels" >labels</a>
                            </li>
                            <li>
                                <a href="#myChart" >myChart</a>
                            </li>
                            <li>
                                <a href="#realSelectedMonth" >realSelectedMonth</a>
                            </li>
                            <li>
                                <a href="#startRealValue" >startRealValue</a>
                            </li>
                            <li>
                                <a href="#startRealValueShort" >startRealValueShort</a>
                            </li>
                            <li>
                                <a href="#stopRealValue" >stopRealValue</a>
                            </li>
                            <li>
                                <a href="#stopRealValueShort" >stopRealValueShort</a>
                            </li>
                            <li>
                                <a href="#tooltip" >tooltip</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#affectTooltipValues" >affectTooltipValues</a>
                            </li>
                            <li>
                                <a href="#display" >display</a>
                            </li>
                            <li>
                                <a href="#getDeltaInPercent" >getDeltaInPercent</a>
                            </li>
                            <li>
                                <a href="#getRealMonth" >getRealMonth</a>
                            </li>
                            <li>
                                <a href="#getRounded" >getRounded</a>
                            </li>
                            <li>
                                <a href="#ngAfterViewInit" >ngAfterViewInit</a>
                            </li>
                            <li>
                                <a href="#ngOnDestroy" >ngOnDestroy</a>
                            </li>
                            <li>
                                <a href="#updateAnnotationBox" >updateAnnotationBox</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Inputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#canViewContractuel" >canViewContractuel</a>
                            </li>
                            <li>
                                <a href="#canViewGreffier" >canViewGreffier</a>
                            </li>
                            <li>
                                <a href="#canViewMagistrat" >canViewMagistrat</a>
                            </li>
                            <li>
                                <a href="#categorySelected" >categorySelected</a>
                            </li>
                            <li>
                                <a href="#whiteSimulator" >whiteSimulator</a>
                            </li>
                        </ul>
                    </td>
                </tr>




        </tbody>
    </table>
</section>

    <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(element: ElementRef<HTMLElement>, simulatorService: <a href="../injectables/SimulatorService.html" target="_self">SimulatorService</a>, ngZone: NgZone)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="120" class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:120</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Constructeur</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>element</td>
                                                  
                                                        <td>
                                                                    <code>ElementRef&lt;HTMLElement&gt;</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>element html</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>simulatorService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/SimulatorService.html" target="_self" >SimulatorService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>service simulateur</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>ngZone</td>
                                                  
                                                        <td>
                                                                    <code>NgZone</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

    <section data-compodoc="block-inputs">
    <h3 id="inputs">Inputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="canViewContractuel"></a>
                        <b>canViewContractuel</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="68" class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:68</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Peux voir l&#39;interface contractuel</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="canViewGreffier"></a>
                        <b>canViewGreffier</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="64" class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:64</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Peux voir l&#39;interface greffier</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="canViewMagistrat"></a>
                        <b>canViewMagistrat</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="60" class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:60</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Peux voir l&#39;interface magistrat</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="categorySelected"></a>
                        <b>categorySelected</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="56" class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:56</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Catégorie selectionnée (magistrat, fonctionnaire...)</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="whiteSimulator"></a>
                        <b>whiteSimulator</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="72" class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:72</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Peux voir l&#39;interface contractuel</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>



    <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="affectTooltipValues"></a>
                    <span class="name">
                        <span ><b>affectTooltipValues</b></span>
                        <a href="#affectTooltipValues"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>affectTooltipValues(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="698"
                                    class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:698</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Synchronisation du tooltip</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>obj</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>element détaillant le tooltip selectionné</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="display"></a>
                    <span class="name">
                        <span ><b>display</b></span>
                        <a href="#display"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>display(event: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="678"
                                    class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:678</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Affichage d&#39;une courbe sur le graphique</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>event</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>évenement de click sur le toogle bouton en légende</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDeltaInPercent"></a>
                    <span class="name">
                        <span ><b>getDeltaInPercent</b></span>
                        <a href="#getDeltaInPercent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getDeltaInPercent(value1: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, value2: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="727"
                                    class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:727</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Calcul de pourcentage</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>value1</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Numérateur</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>value2</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Dénominateur</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getRealMonth"></a>
                    <span class="name">
                        <span ><b>getRealMonth</b></span>
                        <a href="#getRealMonth"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getRealMonth(month: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="793"
                                    class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:793</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Récupération du label MOIS</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>month</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>chaine de caractère MOIS</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>Retourne le nom de mois entier</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getRounded"></a>
                    <span class="name">
                        <span ><b>getRounded</b></span>
                        <a href="#getRounded"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getRounded(value: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="739"
                                    class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:739</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Calcul l&#39;arrondi d&#39;un nombre</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>value</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Nombre</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </div>
                            <div class="io-description">
                                <p>Retourne l&#39;arrondi d&#39;un nombre</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngAfterViewInit"></a>
                    <span class="name">
                        <span ><b>ngAfterViewInit</b></span>
                        <a href="#ngAfterViewInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngAfterViewInit()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="249"
                                    class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:249</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Génération du graphique après l&#39;initialisation du composant</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestroy"></a>
                    <span class="name">
                        <span ><b>ngOnDestroy</b></span>
                        <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnDestroy()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="746"
                                    class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:746</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Réinitialisation lors de la destruction du composant</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateAnnotationBox"></a>
                    <span class="name">
                        <span ><b>updateAnnotationBox</b></span>
                        <a href="#updateAnnotationBox"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateAnnotationBox(display?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>, xMin?: number | undefined, xMax?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, content?: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="711"
                                    class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:711</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Maj de la popin</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>display</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <p>Affichage de la popin</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>xMin</td>
                                            <td>
                                                        <code>number | undefined</code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <p>Abscisse min popin</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>xMax</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <p>Abscisse max popin</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>content</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <p>Contenue de la popin</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="data"></a>
                    <span class="name">
                        <span ><b>data</b></span>
                        <a href="#data"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    projectedMag: {
      values: [0],
      dotColor: &#x27;#e07dd8&#x27;,
      bgColor: &#x27;#fdc0f8&#x27;,
    },
    simulatedMag: {
      values: [0],
      dotColor: &#x27;#fdc0f8&#x27;,
      bgColor: &#x27;#e07dd8&#x27;,
    },
    projectedGref: {
      values: [0],
      dotColor: &#x27;#f083a0&#x27;,
      bgColor: &#x27;#ffcade&#x27;,
    },
    simulatedGref: {
      values: [0],
      dotColor: &#x27;#ffcade&#x27;,
      bgColor: &#x27;#f083a0&#x27;,
    },
    projectedCont: {
      values: [0],
      dotColor: &#x27;#fdbfb7&#x27;,
      bgColor: &#x27;#fcd7d3&#x27;,
    },
    simulatedCont: {
      values: [0],
      dotColor: &#x27;#fcd7d3&#x27;,
      bgColor: &#x27;#eba89f&#x27;,
    },
  }</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="89" class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:89</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Caractéristiques du graphique</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dateStart"></a>
                    <span class="name">
                        <span ><b>dateStart</b></span>
                        <a href="#dateStart"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Date()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="24" class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:24</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Date de début de simulation</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dateStop"></a>
                    <span class="name">
                        <span ><b>dateStop</b></span>
                        <a href="#dateStop"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Date | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="28" class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:28</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Date de fin de simulation</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="elementRef"></a>
                    <span class="name">
                        <span ><b>elementRef</b></span>
                        <a href="#elementRef"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>HTMLElement | undefined</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="48" class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:48</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Element html du graphique</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="labels"></a>
                    <span class="name">
                        <span ><b>labels</b></span>
                        <a href="#labels"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string[] | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="76" class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:76</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Labels sur l&#39;axe des abscisse</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="myChart"></a>
                    <span class="name">
                        <span ><b>myChart</b></span>
                        <a href="#myChart"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="52" class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:52</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Objet Chart JS correspondant au graphique</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="realSelectedMonth"></a>
                    <span class="name">
                        <span ><b>realSelectedMonth</b></span>
                        <a href="#realSelectedMonth"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="84" class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:84</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Mois selectionné</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="startRealValue"></a>
                    <span class="name">
                        <span ><b>startRealValue</b></span>
                        <a href="#startRealValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="32" class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:32</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Valeur de début de simulation</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="startRealValueShort"></a>
                    <span class="name">
                        <span ><b>startRealValueShort</b></span>
                        <a href="#startRealValueShort"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:36</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Valeur de début de simulation mois année</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="stopRealValue"></a>
                    <span class="name">
                        <span ><b>stopRealValue</b></span>
                        <a href="#stopRealValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="40" class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:40</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Valeur de fin de simulation</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="stopRealValueShort"></a>
                    <span class="name">
                        <span ><b>stopRealValueShort</b></span>
                        <a href="#stopRealValueShort"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="44" class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:44</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Valeur de fin de simulation mois année</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="tooltip"></a>
                    <span class="name">
                        <span ><b>tooltip</b></span>
                        <a href="#tooltip"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{ display: false }</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="80" class="link-to-prism">src/app/routes/simulator/charts/etp-chart/etp-chart.component.ts:80</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Affichage du tooltip au survol</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { CommonModule } from &#x27;@angular/common&#x27;
import { AfterViewInit, Component, ElementRef, Input, NgZone, OnDestroy } from &#x27;@angular/core&#x27;
import { Chart, ChartItem, registerables } from &#x27;chart.js&#x27;
import annotationPlugin from &#x27;chartjs-plugin-annotation&#x27;
import { LegendLabelComponent } from &#x27;../legend-label/legend-label.component&#x27;
import { SimulatorService } from &#x27;../../../../services/simulator/simulator.service&#x27;
import { findRealValue, findRealValueCustom, getLongMonthString, getRangeOfMonths } from &#x27;../../../../utils/dates&#x27;
import { fixDecimal } from &#x27;../../../../utils/numbers&#x27;

/**
 * Composant graphique etp du simulateur
 */
@Component({
  selector: &#x27;aj-etp-chart&#x27;,
  standalone: true,
  imports: [CommonModule, LegendLabelComponent],
  templateUrl: &#x27;./etp-chart.component.html&#x27;,
  styleUrls: [&#x27;./etp-chart.component.scss&#x27;],
})
export class EtpChartComponent implements AfterViewInit, OnDestroy {
  /**
   * Date de début de simulation
   */
  dateStart: Date &#x3D; new Date()
  /**
   * Date de fin de simulation
   */
  dateStop: Date | null &#x3D; null
  /**
   * Valeur de début de simulation
   */
  startRealValue &#x3D; &#x27;&#x27;
   /**
   * Valeur de début de simulation mois année
   */
   startRealValueShort &#x3D; &#x27;&#x27;
  /**
   * Valeur de fin de simulation
   */
  stopRealValue &#x3D; &#x27;&#x27;
    /**
   * Valeur de fin de simulation mois année
   */
    stopRealValueShort &#x3D; &#x27;&#x27;
  /**
   * Element html du graphique
   */
  elementRef: HTMLElement | undefined
  /**
   * Objet Chart JS correspondant au graphique
   */
  myChart: any &#x3D; null
  /**
   * Catégorie selectionnée (magistrat, fonctionnaire...)
   */
  @Input() categorySelected &#x3D; &#x27;&#x27;
  /**
   * Peux voir l&#x27;interface magistrat
   */
  @Input() canViewMagistrat: boolean &#x3D; false
  /**
   * Peux voir l&#x27;interface greffier
   */
  @Input() canViewGreffier: boolean &#x3D; false
  /**
   * Peux voir l&#x27;interface contractuel
   */
  @Input() canViewContractuel: boolean &#x3D; false
  /**
   * Peux voir l&#x27;interface contractuel
   */
  @Input() whiteSimulator: boolean &#x3D; false
  /**
   * Labels sur l&#x27;axe des abscisse
   */
  labels: string[] | null &#x3D; null
  /**
   * Affichage du tooltip au survol
   */
  tooltip: any &#x3D; { display: false }
  /**
   * Mois selectionné
   */
  realSelectedMonth &#x3D; &#x27;&#x27;

  /**
   * Caractéristiques du graphique
   */
  data &#x3D; {
    projectedMag: {
      values: [0],
      dotColor: &#x27;#e07dd8&#x27;,
      bgColor: &#x27;#fdc0f8&#x27;,
    },
    simulatedMag: {
      values: [0],
      dotColor: &#x27;#fdc0f8&#x27;,
      bgColor: &#x27;#e07dd8&#x27;,
    },
    projectedGref: {
      values: [0],
      dotColor: &#x27;#f083a0&#x27;,
      bgColor: &#x27;#ffcade&#x27;,
    },
    simulatedGref: {
      values: [0],
      dotColor: &#x27;#ffcade&#x27;,
      bgColor: &#x27;#f083a0&#x27;,
    },
    projectedCont: {
      values: [0],
      dotColor: &#x27;#fdbfb7&#x27;,
      bgColor: &#x27;#fcd7d3&#x27;,
    },
    simulatedCont: {
      values: [0],
      dotColor: &#x27;#fcd7d3&#x27;,
      bgColor: &#x27;#eba89f&#x27;,
    },
  }

  /**
   * Constructeur
   * @param element element html
   * @param simulatorService service simulateur
   */
  constructor(private element: ElementRef&lt;HTMLElement&gt;, private simulatorService: SimulatorService, private ngZone: NgZone) {
    simulatorService.dateStop.subscribe((value) &#x3D;&gt; {
      if (value !&#x3D;&#x3D; undefined) {
        this.stopRealValue &#x3D; findRealValue(value)
        this.stopRealValueShort &#x3D; findRealValueCustom(value,false,true)
        this.dateStop &#x3D; value
        this.labels &#x3D; getRangeOfMonths(new Date(this.dateStart), new Date(this.dateStop))
      }
    })
    simulatorService.dateStart.subscribe((value) &#x3D;&gt; {
      this.startRealValue &#x3D; findRealValue(value)
      this.startRealValueShort &#x3D; findRealValueCustom(value,false,true)
      this.dateStart &#x3D; value
      if (this.dateStop !&#x3D;&#x3D; null) {
        this.labels &#x3D; getRangeOfMonths(new Date(this.dateStart), new Date(this.dateStop))
      }
    })
    simulatorService.situationSimulated.subscribe((value) &#x3D;&gt; {
      console.log(this.labels, value)
      if (this.labels !&#x3D;&#x3D; null) {
        this.data.simulatedMag.values &#x3D; simulatorService.generateLinearData(value?.etpMag as number, value?.etpMag as number, this.labels.length)
        this.data.simulatedGref.values &#x3D; simulatorService.generateLinearData(value?.etpFon as number, value?.etpFon as number, this.labels.length)
        this.data.simulatedCont.values &#x3D; simulatorService.generateLinearData(value?.etpCont as number, value?.etpCont as number, this.labels.length)

        let monthlyMagValues: any &#x3D; undefined
        let monthlyContValues: any &#x3D; undefined
        let monthlyFonValues: any &#x3D; undefined

        console.log(simulatorService.situationProjected.getValue())

        if (simulatorService.situationProjected.getValue()!.monthlyReport !&#x3D;&#x3D; undefined) {
          simulatorService.situationProjected.getValue()!.monthlyReport!.forEach((x: any) &#x3D;&gt; {
            if (x.name &#x3D;&#x3D;&#x3D; &#x27;Magistrat&#x27;) monthlyMagValues &#x3D; x.values
            if (x.name &#x3D;&#x3D;&#x3D; &#x27;Greffe&#x27;) monthlyFonValues &#x3D; x.values
            if (x.name &#x3D;&#x3D;&#x3D; &#x27;Autour du magistrat&#x27;) monthlyContValues &#x3D; x.values
          })

          this.data.projectedMag.values &#x3D; new Array()
          this.data.projectedGref.values &#x3D; new Array()
          this.data.projectedCont.values &#x3D; new Array()

          Object.keys(monthlyMagValues).forEach((x: any) &#x3D;&gt; {
            this.data.projectedMag.values.push(monthlyMagValues[x].etpt)
            this.data.projectedGref.values.push(monthlyFonValues[x].etpt)
            this.data.projectedCont.values.push(monthlyContValues[x].etpt)
          })
        } else {
          this.data.projectedMag.values &#x3D; simulatorService.generateLinearData(
            simulatorService.situationProjected.getValue()?.etpMag as number,
            simulatorService.situationProjected.getValue()?.etpMag as number,
            this.labels.length,
          )
          this.data.projectedGref.values &#x3D; simulatorService.generateLinearData(
            simulatorService.situationProjected.getValue()?.etpFon as number,
            simulatorService.situationProjected.getValue()?.etpFon as number,
            this.labels.length,
          )
        }

        console.log(this.data.projectedMag)
        if (this.myChart !&#x3D;&#x3D; null) {
          this.myChart.config.data.labels &#x3D; this.labels
          if (this.canViewMagistrat) {
            this.myChart._metasets[0]._dataset.data &#x3D; this.data.projectedMag.values
            this.myChart._metasets[1]._dataset.data &#x3D; this.data.simulatedMag.values
          }
          if (this.canViewGreffier) {
            this.myChart._metasets[2]._dataset.data &#x3D; this.data.projectedGref.values
            this.myChart._metasets[3]._dataset.data &#x3D; this.data.simulatedGref.values
          }
          if (this.canViewContractuel) {
            this.myChart._metasets[5]._dataset.data &#x3D; this.data.projectedCont.values
            //this.myChart._metasets[6]._dataset.data &#x3D;
            //this.data.simulatedCont.values
          }

          // A remplacer
          /**
          const isDataShown &#x3D; this.myChart.isDatasetVisible(
            this.categorySelected &#x3D;&#x3D;&#x3D; &#x27;MAGISTRAT&#x27; ? 3 : 1
          )
          if (isDataShown &#x3D;&#x3D;&#x3D; true) {
            if (this.categorySelected &#x3D;&#x3D;&#x3D; &#x27;MAGISTRAT&#x27;) {
              this.myChart.hide(3)
            } else this.myChart.hide(1)
          }
 */
          if (this.categorySelected &#x3D;&#x3D;&#x3D; &#x27;MAGISTRAT&#x27;) {
            this.myChart.hide(3)
          }
          if (this.categorySelected &#x3D;&#x3D;&#x3D; &#x27;GREFFE&#x27;) {
            this.myChart.hide(1)
          }

          if (!this.canViewMagistrat) {
            this.myChart.hide(0)
            this.myChart.hide(1)
          }
          if (!this.canViewGreffier) {
            this.myChart.hide(2)
            this.myChart.hide(3)
          }
          if (!this.canViewContractuel) {
            this.myChart.hide(4)
            this.myChart.hide(5)
          }

          //this.myChart.hide(4)
          this.myChart.hide(5)
          this.myChart.update()
        }
      }
    })

    this.elementRef &#x3D; element.nativeElement
    Chart.register(...registerables)
    Chart.register(annotationPlugin)
  }

  /**
   * Génération du graphique après l&#x27;initialisation du composant
   */
  ngAfterViewInit(): void {
    const labels &#x3D; this.labels

    console.log(&#x27;load Chart ETP&#x27;)

    const data &#x3D; {
      labels: labels,
      datasets: [
        {
          label: &#x27;projectedMag&#x27;,
          yAxisID: &#x27;A&#x27;,
          backgroundColor: this.data.projectedMag.bgColor,
          borderColor: this.data.projectedMag.bgColor,
          data: this.data.projectedMag.values,
        },
        {
          label: &#x27;simulatedMag&#x27;,
          yAxisID: &#x27;A&#x27;,
          backgroundColor: this.data.simulatedMag.bgColor,
          borderColor: this.data.simulatedMag.bgColor,
          data: this.data.simulatedMag.values,
        },
        {
          label: &#x27;projectedGref&#x27;,
          yAxisID: &#x27;A&#x27;,
          backgroundColor: this.data.projectedGref.bgColor,
          borderColor: this.data.projectedGref.bgColor,
          data: this.data.projectedGref.values,
        },
        {
          yAxisID: &#x27;A&#x27;,
          label: &#x27;simulatedGref&#x27;,
          backgroundColor: this.data.simulatedGref.bgColor,
          borderColor: this.data.simulatedGref.bgColor,
          data: this.data.simulatedGref.values,
        },
        {
          label: &#x27;projectedCont&#x27;,
          yAxisID: &#x27;A&#x27;,
          backgroundColor: this.data.projectedCont.bgColor,
          borderColor: this.data.projectedCont.bgColor,
          data: this.data.projectedCont.values,
        },
        {
          yAxisID: &#x27;A&#x27;,
          label: &#x27;simulatedCont&#x27;,
          backgroundColor: this.data.simulatedCont.bgColor,
          borderColor: this.data.simulatedCont.bgColor,
          data: this.data.simulatedCont.values,
        },
      ],
    }

    const yScaleTextStock &#x3D; {
      id: &#x27;yScaleTextStock&#x27;,
      afterDraw(chart: any, args: any, options: any) {
        const ctx &#x3D; chart.ctx
        const top &#x3D; chart.chartArea.top
        ctx.save()
        ctx.font &#x3D; &#x27;14px Arial&#x27;
        ctx.fillStyle &#x3D; &#x27;#666&#x27;
        ctx.fillText(&#x27;ETPT&#x27;, -1, top - 2)
        ctx.restore()
      },
    }

    function localeParseFloat(s: string, locale?: any) {
      // Get the thousands and decimal separator characters used in the locale.
      let [, thousandsSeparator, , , , decimalSeparator] &#x3D; (1111.1).toLocaleString(locale)
      // Remove thousand separators, and put a point where the decimal separator occurs
      s &#x3D; Array.from(s, (c) &#x3D;&gt; (c &#x3D;&#x3D;&#x3D; thousandsSeparator ? &#x27;&#x27; : c &#x3D;&#x3D;&#x3D; decimalSeparator ? &#x27;.&#x27; : c)).join(&#x27;&#x27;)
      // Now it can be parsed
      return parseFloat(s)
    }

    const label &#x3D; (context: any) &#x3D;&gt; {
      let sufix &#x3D; &#x27;&#x27;
      switch (context.dataset.label) {
        case &#x27;projectedMag&#x27;:
          sufix &#x3D; &#x27;magistrats (projeté)&#x27;
          break
        case &#x27;simulatedMag&#x27;:
          sufix &#x3D; &#x27;magistrats (simulé)&#x27;
          break
        case &#x27;projectedGref&#x27;:
          sufix &#x3D; &#x27;agents de greffe (projeté)&#x27;
          break
        case &#x27;simulatedGref&#x27;:
          sufix &#x3D; &#x27;agents de greffe (simulé)&#x27;
          break
        case &#x27;projectedCont&#x27;:
          sufix &#x3D; &#x27;contractuels (projeté)&#x27;
          break
        case &#x27;simulatedCont&#x27;:
          sufix &#x3D; &#x27;contractuels (simulé)&#x27;
          break
      }
      let lbl &#x3D; &#x27;  &#x27; + fixDecimal(localeParseFloat(context.formattedValue.replace(/\s/g, &#x27;&#x27;))) + &#x27; &#x27; + sufix
      return lbl
    }

    let $this &#x3D; this

    const externalTooltipHandler &#x3D; (context: any) &#x3D;&gt; {
      const { chart, tooltip } &#x3D; context

      const { offsetLeft: positionX, offsetTop: positionY } &#x3D; $this.myChart.canvas

      $this.tooltip &#x3D; {
        offsetLeft: positionX,
        offsetTop: positionY,
        ...$this.tooltip,
        ...tooltip,
      }
    }

    const config: any &#x3D; {
      type: &#x27;line&#x27;,
      data: data,
      options: {
        onClick: function (e: any, items: any) {
          if (items.length &#x3D;&#x3D; 0) return

          var firstPoint &#x3D; items[0].index
          const projectedMag &#x3D; e.chart.config._config.data.datasets.find((x: any) &#x3D;&gt; {
            return x.label &#x3D;&#x3D;&#x3D; &#x27;projectedMag&#x27;
          })
          const simulatedMag &#x3D; e.chart.config._config.data.datasets.find((x: any) &#x3D;&gt; {
            return x.label &#x3D;&#x3D;&#x3D; &#x27;simulatedMag&#x27;
          })
          const projectedFon &#x3D; e.chart.config._config.data.datasets.find((x: any) &#x3D;&gt; {
            return x.label &#x3D;&#x3D;&#x3D; &#x27;projectedFon&#x27;
          })
          const simulatedFon &#x3D; e.chart.config._config.data.datasets.find((x: any) &#x3D;&gt; {
            return x.label &#x3D;&#x3D;&#x3D; &#x27;simulatedFon&#x27;
          })
          const projectedCont &#x3D; e.chart.config._config.data.datasets.find((x: any) &#x3D;&gt; {
            return x.label &#x3D;&#x3D;&#x3D; &#x27;projectedCont&#x27;
          })

          const tooltipEl &#x3D; $this.myChart.canvas.parentNode.querySelector(&#x27;#chartjs-tooltip&#x27;)
          const tooltipElTriangle &#x3D; $this.myChart.canvas.parentNode.querySelector(&#x27;#chartjs-tooltip-triangle&#x27;)

          const yValues &#x3D; items.map((object: any) &#x3D;&gt; {
            return object.element.y
          })

          const min &#x3D; Math.min(...yValues)
          tooltipEl.style.opacity &#x3D; 1

          tooltipEl.style.left &#x3D; (items[0].element.x &gt; 175 ? items[0].element.x : 175) + &#x27;px&#x27;
          tooltipEl.style.top &#x3D; min - 162 + &#x27;px&#x27;

          tooltipElTriangle.style.opacity &#x3D; 1
          tooltipElTriangle.style.left &#x3D; items[0].element.x + 8 + &#x27;px&#x27;
          tooltipElTriangle.style.top &#x3D; min + &#x27;px&#x27;

          $this.affectTooltipValues({
            projectedMag: projectedMag.data[firstPoint],
            simulatedMag: simulatedMag.data[firstPoint],
            //projectedFon: projectedFon.data[firstPoint],
            //simulatedFon: simulatedFon.data[firstPoint],
            projectedCont: projectedCont.data[firstPoint],
            x: (items[0].element.x &gt; 175 ? items[0].element.x : 175) + &#x27;px&#x27;,
            y: min - 130 + &#x27;px&#x27;,
            trianglex: items[0].element.x + 4 + &#x27;px&#x27;,
            tirnagley: min + &#x27;px&#x27;,
            pointIndex: firstPoint,
            selectedLabelValue: e.chart.data.labels[firstPoint],
            enableTooltip: false,
          })

          const colorArray &#x3D; []

          if (e.chart.options.plugins.annotation.annotations.box1.content &#x3D;&#x3D;&#x3D; undefined) {
            if (e.chart.options.plugins.annotation.annotations.box1.display &#x3D;&#x3D;&#x3D; false) {
              e.chart.options.plugins.annotation.annotations.box1.display &#x3D; true
              $this.updateAnnotationBox(true, 0, 0)
            }
            if (firstPoint &#x3D;&#x3D;&#x3D; 0) {
              e.chart.options.plugins.annotation.annotations.box1.xMin &#x3D; 0
              e.chart.options.plugins.annotation.annotations.box1.xMax &#x3D; 0.5
              $this.updateAnnotationBox(true, 0, 0.5)
            } else if (firstPoint &#x3D;&#x3D;&#x3D; e.chart.scales.x.max) {
              e.chart.options.plugins.annotation.annotations.box1.xMin &#x3D; e.chart.scales.x.max - 0.5
              e.chart.options.plugins.annotation.annotations.box1.xMax &#x3D; e.chart.scales.x.max
              $this.updateAnnotationBox(true, e.chart.scales.x.max - 0.5, e.chart.scales.x.max)
            } else {
              e.chart.options.plugins.annotation.annotations.box1.xMin &#x3D; firstPoint - 0.5
              e.chart.options.plugins.annotation.annotations.box1.xMax &#x3D; firstPoint + 0.5
              $this.updateAnnotationBox(true, firstPoint - 0.5, firstPoint + 0.5)
            }
            e.chart.options.plugins.annotation.annotations.box1.yMax &#x3D; e.chart.scales.A.max

            for (let i &#x3D; 0; i &lt; e.chart.data.datasets[0].data.length; i++) {
              if (firstPoint &#x3D;&#x3D;&#x3D; i) {
                $this.realSelectedMonth &#x3D; $this.labels![i]
                $this.myChart.update()
                colorArray.push(&#x27;#0a76f6&#x27;)
              } else {
                colorArray.push(&#x27;rgb(109, 109, 109)&#x27;)
              }
            }
            e.chart.options.plugins.tooltip.enabled &#x3D; false
          } else {
            e.chart.options.plugins.tooltip.enabled &#x3D; true
            $this.affectTooltipValues({
              pointIndex: null,
              enableTooltip: true,
            })
            for (let i &#x3D; 0; i &lt; e.chart.data.datasets[0].data.length; i++) {
              colorArray.push(&#x27;rgb(109, 109, 109)&#x27;)
            }
            e.chart.options.plugins.annotation.annotations.box1.content &#x3D; undefined
            $this.updateAnnotationBox(false, 0, 0, undefined)
            tooltipEl.style.opacity &#x3D; 0
            tooltipElTriangle.style.opacity &#x3D; 0
          }

          e.chart.config.options.scales.x.ticks.color &#x3D; colorArray
          e.chart.update()
        },
        tooltips: {
          events: [&#x27;click&#x27;],
          callbacks: {
            title: function (tooltipItem: any, data: any) {
              return data[&#x27;labels&#x27;][tooltipItem[0][&#x27;index&#x27;]]
            },
            label: function (tooltipItem: any, data: any) {
              return data[&#x27;datasets&#x27;][0][&#x27;data&#x27;][tooltipItem[&#x27;index&#x27;]]
            },
            afterLabel: function (tooltipItem: any, data: any) {
              var dataset &#x3D; data[&#x27;datasets&#x27;][0]
              var percent &#x3D; Math.round((dataset[&#x27;data&#x27;][tooltipItem[&#x27;index&#x27;]] / dataset[&#x27;_meta&#x27;][0][&#x27;total&#x27;]) * 100)
              return &#x27;(&#x27; + percent + &#x27;%)&#x27;
            },
          },
        },
        interaction: {
          intersect: false,
          mode: &#x27;index&#x27;,
        },
        animation: {
          interaction: {
            intersect: false,
          },
        },
        responsive: true,
        maintainAspectRatio: false,
        layout: {
          padding: { top: 20, left: 30, right: 20 },
        },
        scales: {
          x: {
            ticks: {
              color: &#x27;rgb(109, 109, 109)&#x27;,
            },
            grid: {
              drawTicks: true,
              tickColor: &#x27;white&#x27;,
              offset: true, // middle labels
            },
          },
          A: {
            padding: -3,
            beginAtZero: true,
            type: &#x27;linear&#x27;,
            position: &#x27;left&#x27;,
            ticks: {
              display: true,
              min: 0,
              max: 100,
              callback: (value: any, index: any, values: any) &#x3D;&gt; (index &#x3D;&#x3D; values.length - 1 ? &#x27;&#x27; : value),
            },
            grid: {
              drawTicks: false,
              display: true,
            },
          },
        },
        plugins: {
          autocolors: false,
          annotation: {
            click: function (e: any, items: any) {
              if (items.length &#x3D;&#x3D; 0) return
              items.chart.options.plugins.annotation.annotations.box1.display &#x3D; false
              e.chart.options.plugins.annotation.annotations.box1.content &#x3D; &#x27;&#x27;
              $this.updateAnnotationBox(false, undefined, undefined, &#x27;&#x27;)
              items.chart.update()
            },
            annotations: {
              box1: {
                display: false,
                type: &#x27;box&#x27;,
                yScaleID: &#x27;A&#x27;,
                xMin: 0,
                xMax: 1,
                yMin: 0,
                yMax: 5,
                backgroundColor: &#x27;rgba(255, 99, 132, 0.25)&#x27;,
              },
            },
          },
          legend: {
            display: false,
          },
          tooltip: {
            external: externalTooltipHandler,
            usePointStyle: true,
            boxWidth: 15,
            position: &#x27;nearest&#x27;,
            displaycolors: false,
            backgroundColor: &#x27;white&#x27;,
            borderColor: &#x27;rgba(94, 92, 92, 0.316)&#x27;,
            borderWidth: 0.5,
            padding: { top: 18, left: 12, right: 10, bottom: 18 },
            boxPadding: 10,
            bodyFont: {
              size: 14,
              style: &#x27;normal&#x27;,
              family: &#x27;Marianne&#x27;,
              lineHeight: 1.5,
            },
            callbacks: {
              title: function () {
                return null
              },
              labelTextColor: (content: any) &#x3D;&gt; {
                return &#x27;black&#x27;
              },
              label: label,
            },
          },
        },
      },
      plugins: [yScaleTextStock],
    }

    this.ngZone.runOutsideAngular(() &#x3D;&gt; {
      this.myChart &#x3D; new Chart(document.getElementById(&#x27;etp-chart&#x27;) as ChartItem, config)
    })

    this.simulatorService.chartAnnotationBox.subscribe((value) &#x3D;&gt; {
      if (this.myChart !&#x3D;&#x3D; null) {
        this.myChart.options.plugins.annotation.annotations.box1.yMax &#x3D; this.myChart.scales.A.max
        this.myChart.options.plugins.annotation.annotations.box1.display &#x3D; value.display
        this.myChart.options.plugins.annotation.annotations.box1.xMin &#x3D; value.xMin
        this.myChart.options.plugins.annotation.annotations.box1.xMax &#x3D; value.xMax
        this.myChart.options.plugins.annotation.annotations.box1.content &#x3D; value.content

        this.myChart.options.plugins.tooltip.enabled &#x3D; value.enableTooltip

        this.tooltip.projectedMag &#x3D; value.projectedMag
        this.tooltip.simulatedMag &#x3D; value.simulatedMag

        this.tooltip.projectedFon &#x3D; value.projectedFon
        this.tooltip.simulatedFon &#x3D; value.simulatedFon

        this.tooltip.projectedCont &#x3D; value.projectedCont
        this.tooltip.simulatedCont &#x3D; value.simulatedCont

        const tooltipEl &#x3D; $this.myChart.canvas.parentNode.querySelector(&#x27;#chartjs-tooltip&#x27;)
        const tooltipElTriangle &#x3D; $this.myChart.canvas.parentNode.querySelector(&#x27;#chartjs-tooltip-triangle&#x27;)

        const colorArray &#x3D; []

        if (value.x) {
          let higuerYPosition &#x3D; value.y ? value.y : 0
          let higuerXPosition &#x3D; value.x ? value.x : 0

          if (value.pointIndex !&#x3D;&#x3D; null) {
            // xScale.top
            higuerYPosition &#x3D; Math.min(
              this.myChart.getDatasetMeta(0).data[value.pointIndex as number].y | 0,
              this.myChart.getDatasetMeta(1).data[value.pointIndex as number].y | 0,
              this.myChart.getDatasetMeta(2).data[value.pointIndex as number].y | 0,
              this.myChart.getDatasetMeta(3).data[value.pointIndex as number].y | 0,
            )
            higuerYPosition &#x3D; higuerYPosition &lt; 20 ? 20 : higuerYPosition
            higuerXPosition &#x3D; this.myChart.getDatasetMeta(0).data[value.pointIndex as number].x | 0
          }

          this.myChart.tooltip.active &#x3D; false
          this.realSelectedMonth &#x3D; value.selectedLabelValue as string
          tooltipEl.style.opacity &#x3D; 1
          tooltipEl.style.left &#x3D; value.x
          tooltipEl.style.top &#x3D; higuerYPosition - 130 + &#x27;px&#x27;
          tooltipElTriangle.style.opacity &#x3D; 1
          tooltipElTriangle.style.left &#x3D; Number(String(higuerXPosition).replace(&#x27;px&#x27;, &#x27;&#x27;)) + 10 + &#x27;px&#x27;
          tooltipElTriangle.style.top &#x3D; Number(String(higuerYPosition - 130 + &#x27;px&#x27;).replace(&#x27;px&#x27;, &#x27;&#x27;)) + 160 + &#x27;px&#x27;

          this.tooltip.projectedMag &#x3D; this.myChart.data.datasets[0].data[value.pointIndex as number]
          this.tooltip.simulatedMag &#x3D; this.myChart.data.datasets[1].data[value.pointIndex as number]

          this.tooltip.projectedFon &#x3D; this.myChart.data.datasets[2].data[value.pointIndex as number]
          this.tooltip.simulatedFon &#x3D; this.myChart.data.datasets[3].data[value.pointIndex as number]

          this.tooltip.projectedCont &#x3D; this.myChart.data.datasets[4].data[value.pointIndex as number]

          for (let i &#x3D; 0; i &lt; this.myChart.data.datasets[0].data.length; i++) {
            if ((value.pointIndex as number) &#x3D;&#x3D;&#x3D; i) {
              colorArray.push(&#x27;#0a76f6&#x27;)
            } else {
              colorArray.push(&#x27;rgb(109, 109, 109)&#x27;)
            }
          }
          this.myChart.config.options.scales.x.ticks.color &#x3D; colorArray
        }
        if (value.display &#x3D;&#x3D;&#x3D; false) {
          tooltipEl.style.opacity &#x3D; 0
          tooltipElTriangle.style.opacity &#x3D; 0

          for (let i &#x3D; 0; i &lt; this.myChart.data.datasets[0].data.length; i++) {
            colorArray.push(&#x27;rgb(109, 109, 109)&#x27;)
          }
          this.myChart.config.options.scales.x.ticks.color &#x3D; colorArray
        }
        this.myChart.update()
        this.ngZone.run(() &#x3D;&gt; {
          this.myChart.update()
        })
      }
    })
  }

  /**
   * Affichage d&#x27;une courbe sur le graphique
   * @param event évenement de click sur le toogle bouton en légende
   */
  display(event: any) {
    let index: number | undefined &#x3D; undefined
    if (event.label &#x3D;&#x3D;&#x3D; &#x27;projectedMag&#x27;) index &#x3D; 0
    if (event.label &#x3D;&#x3D;&#x3D; &#x27;simulatedMag&#x27;) index &#x3D; 1
    if (event.label &#x3D;&#x3D;&#x3D; &#x27;projectedGref&#x27;) index &#x3D; 2
    if (event.label &#x3D;&#x3D;&#x3D; &#x27;simulatedGref&#x27;) index &#x3D; 3
    if (event.label &#x3D;&#x3D;&#x3D; &#x27;projectedCont&#x27;) index &#x3D; 4
    if (event.label &#x3D;&#x3D;&#x3D; &#x27;simulatedCont&#x27;) index &#x3D; 5
    if (this.myChart !&#x3D;&#x3D; null) {
      const isDataShown &#x3D; this.myChart.isDatasetVisible(index)

      if (isDataShown &#x3D;&#x3D;&#x3D; true) this.myChart.hide(index)
      else this.myChart.show(index)
    }
  }

  /**
   * Synchronisation du tooltip
   * @param obj element détaillant le tooltip selectionné
   */
  affectTooltipValues(obj: any) {
    this.simulatorService.chartAnnotationBox.next({
      ...this.simulatorService.chartAnnotationBox.getValue(),
      ...obj,
    })
  }
  /**
   * Maj de la popin
   * @param display Affichage de la popin
   * @param xMin Abscisse min popin
   * @param xMax Abscisse max popin
   * @param content Contenue de la popin
   */
  updateAnnotationBox(display?: boolean, xMin?: number | undefined, xMax?: number, content?: any) {
    this.simulatorService.chartAnnotationBox.next({
      ...this.simulatorService.chartAnnotationBox.getValue(),
      display,
      xMin,
      xMax,
      content,
    })
  }

  /**
   * Calcul de pourcentage
   * @param value1 Numérateur
   * @param value2 Dénominateur
   * @returns
   */
  getDeltaInPercent(value1: number, value2: number): number {
    if (value1 !&#x3D;&#x3D; undefined &amp;&amp; value2 !&#x3D;&#x3D; undefined) {
      return fixDecimal(((value1 - value2) / value2) * 100) as number
    }
    return 0
  }

  /**
   * Calcul l&#x27;arrondi d&#x27;un nombre
   * @param value Nombre
   * @returns Retourne l&#x27;arrondi d&#x27;un nombre
   */
  getRounded(value: number): number {
    return fixDecimal(value)
  }

  /**
   * Réinitialisation lors de la destruction du composant
   */
  ngOnDestroy(): void {
    this.myChart.destroy()
    this.dateStart &#x3D; new Date()
    this.dateStop &#x3D; null
    this.myChart &#x3D; null
    this.labels &#x3D; null
    this.tooltip &#x3D; { display: false }

    this.data &#x3D; {
      projectedMag: {
        values: [0],
        dotColor: &#x27;#e07dd8&#x27;,
        bgColor: &#x27;#fdc0f8&#x27;,
      },
      simulatedMag: {
        values: [0],
        dotColor: &#x27;#fdc0f8&#x27;,
        bgColor: &#x27;#e07dd8&#x27;,
      },
      projectedGref: {
        values: [0],
        dotColor: &#x27;#f083a0&#x27;,
        bgColor: &#x27;#ffcade&#x27;,
      },
      simulatedGref: {
        values: [],
        dotColor: &#x27;#ffcade&#x27;,
        bgColor: &#x27;#f083a0&#x27;,
      },
      projectedCont: {
        values: [],
        dotColor: &#x27;#fdbfb7&#x27;,
        bgColor: &#x27;#fcd7d3&#x27;,
      },
      simulatedCont: {
        values: [],
        dotColor: &#x27;#fcd7d3&#x27;,
        bgColor: &#x27;#eba89f&#x27;,
      },
    }
  }

  /**
   * Récupération du label MOIS
   * @param month chaine de caractère MOIS
   * @returns Retourne le nom de mois entier
   */
  getRealMonth(month: string) {
    return getLongMonthString(month.split(&#x27; &#x27;)[0]) + &#x27; 20&#x27; + month.split(&#x27; &#x27;)[1]
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;left-side&quot;&gt;
  &lt;div class&#x3D;&quot;title&quot;&gt;
    &lt;p&gt;
      Evolution des ETPT mensuels moyens &amp;nbsp;
      &lt;label&gt;de {{ startRealValueShort }} à {{ stopRealValueShort
      }}&lt;/label&gt;
    &lt;/p&gt;
  &lt;/div&gt;
  &lt;div class&#x3D;&quot;container&quot;&gt;
    &lt;div class&#x3D;&quot;canvas-container&quot;&gt;
      &lt;canvas id&#x3D;&quot;etp-chart&quot;&gt;&lt;/canvas&gt;
      &lt;div id&#x3D;&quot;chartjs-tooltip&quot;&gt;
        &lt;div class&#x3D;&quot;popin-title-content&quot;&gt;
          &lt;p class&#x3D;&quot;popin-title&quot;&gt;
            &lt;b&gt;Effectifs&lt;/b&gt;
            &lt;br /&gt;
            à {{ getRealMonth(realSelectedMonth) }}
          &lt;/p&gt;
          &lt;div class&#x3D;&quot;low&quot;&gt;Projetés&lt;/div&gt;
          &lt;p class&#x3D;&quot;hard&quot;&gt;Simulés&lt;/p&gt;
          &lt;p class&#x3D;&quot;white&quot;&gt;Variation&lt;/p&gt;
        &lt;/div&gt;
        @if (canViewMagistrat) {
          &lt;div class&#x3D;&quot;popin-raw&quot;&gt;
            &lt;div class&#x3D;&quot;popin-title&quot;&gt;
              &lt;div _ngcontent-vmx-c83&#x3D;&quot;&quot; class&#x3D;&quot;circle pink&quot;&gt;&lt;/div&gt;
              &lt;b&gt;Magistrats&lt;/b&gt;
            &lt;/div&gt;
            &lt;p class&#x3D;&quot;low-value first&quot;&gt;
              {{ getRounded(tooltip.projectedMag) || &#x27;&#x27; }}
            &lt;/p&gt;
            &lt;p class&#x3D;&quot;hard-value first&quot;&gt;
              {{ this.categorySelected &#x3D;&#x3D;&#x3D; &#x27;MAGISTRAT&#x27; ? getRounded(tooltip.simulatedMag) || &#x27;&#x27; : &#x27;&#x27; }}
            &lt;/p&gt;
            &lt;div class&#x3D;&quot;white-value&quot;&gt;
              @if (this.categorySelected &#x3D;&#x3D;&#x3D; &#x27;MAGISTRAT&#x27;) {
                &lt;div class&#x3D;&quot;rounded-label&quot;&gt;
                  &lt;label&gt;
                    {{ getDeltaInPercent(tooltip.simulatedMag, tooltip.projectedMag) || 0 }}
                    %
                  &lt;/label&gt;
                &lt;/div&gt;
              }
            &lt;/div&gt;
          &lt;/div&gt;
        }
        @if (canViewGreffier) {
          &lt;div class&#x3D;&quot;popin-raw&quot;&gt;
            &lt;div class&#x3D;&quot;popin-title&quot;&gt;
              &lt;div _ngcontent-vmx-c83&#x3D;&quot;&quot; class&#x3D;&quot;circle light-pink&quot;&gt;&lt;/div&gt;
              &lt;b&gt;Agents&lt;/b&gt;
              &amp;nbsp;
            &lt;/div&gt;
            &lt;p class&#x3D;&quot;low-value&quot;&gt;
              {{ getRounded(tooltip.projectedFon) || &#x27;&#x27; }}
            &lt;/p&gt;
            &lt;p class&#x3D;&quot;hard-value&quot;&gt;
              {{ this.categorySelected &#x3D;&#x3D;&#x3D; &#x27;MAGISTRAT&#x27; ? &#x27;&#x27; : getRounded(tooltip.simulatedFon) || &#x27;&#x27; }}
            &lt;/p&gt;
            &lt;div class&#x3D;&quot;white-value&quot;&gt;
              @if (this.categorySelected !&#x3D;&#x3D; &#x27;MAGISTRAT&#x27;) {
                &lt;div class&#x3D;&quot;rounded-label&quot;&gt;
                  &lt;label&gt;
                    {{ getDeltaInPercent(tooltip.simulatedFon, tooltip.projectedFon) || 0 }}
                    %
                  &lt;/label&gt;
                &lt;/div&gt;
              }
            &lt;/div&gt;
          &lt;/div&gt;
        }
        @if (canViewContractuel) {
          &lt;div class&#x3D;&quot;popin-raw&quot;&gt;
            &lt;div class&#x3D;&quot;popin-title&quot;&gt;
              &lt;div class&#x3D;&quot;circle light-pink&quot;&gt;&lt;/div&gt;
              &lt;b&gt;Autour du magistrat&lt;/b&gt;
              &amp;nbsp;
            &lt;/div&gt;
            &lt;p class&#x3D;&quot;low-value&quot;&gt;
              {{ getRounded(tooltip.projectedCont) || &#x27;&#x27; }}
            &lt;/p&gt;
            &lt;p class&#x3D;&quot;hard-value&quot;&gt;&lt;/p&gt;
            &lt;div class&#x3D;&quot;white-value&quot;&gt;&lt;/div&gt;
          &lt;/div&gt;
        }
      &lt;/div&gt;
      &lt;div id&#x3D;&quot;chartjs-tooltip-triangle&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;div class&#x3D;&quot;right-side&quot;&gt;
  @if (!whiteSimulator || categorySelected &#x3D;&#x3D;&#x3D; &#x27;MAGISTRAT&#x27;) {
    &lt;aj-legend-label
      [title]&#x3D;&quot;&#x27;projectedMag&#x27;&quot;
      [label]&#x3D;&quot;&#x27;Siège (projeté)&#x27;&quot;
      [dotColor]&#x3D;&quot;&#x27;#e07dd8&#x27;&quot;
      [bgColor]&#x3D;&quot;&#x27;#fdc0f8&#x27;&quot;
      [disabledEl]&#x3D;&quot;!canViewMagistrat&quot;
      [ngClass]&#x3D;&quot;{
        &#x27;disabled-label&#x27;: !canViewMagistrat,
      }&quot;
      (value)&#x3D;&quot;display($event)&quot;
    &gt;&lt;/aj-legend-label&gt;
  }
  @if (!whiteSimulator || categorySelected &#x3D;&#x3D;&#x3D; &#x27;MAGISTRAT&#x27;) {
    &lt;aj-legend-label
      [title]&#x3D;&quot;&#x27;simulatedMag&#x27;&quot;
      [label]&#x3D;&quot;&#x27;Siège (simulé)&#x27;&quot;
      [dotColor]&#x3D;&quot;&#x27;#fdc0f8&#x27;&quot;
      [bgColor]&#x3D;&quot;&#x27;#e07dd8&#x27;&quot;
      (value)&#x3D;&quot;display($event)&quot;
      [disabledEl]&#x3D;&quot;!canViewMagistrat || categorySelected !&#x3D;&#x3D; &#x27;MAGISTRAT&#x27; ? true : false&quot;
      [ngClass]&#x3D;&quot;{
        &#x27;disabled-label&#x27;: !canViewMagistrat || categorySelected !&#x3D;&#x3D; &#x27;MAGISTRAT&#x27;,
      }&quot;
    &gt;&lt;/aj-legend-label&gt;
  }
  &lt;div class&#x3D;&quot;space&quot;&gt;&lt;/div&gt;

  @if (!whiteSimulator || categorySelected &#x3D;&#x3D;&#x3D; &#x27;GREFFE&#x27;) {
    &lt;aj-legend-label
      [title]&#x3D;&quot;&#x27;projectedGref&#x27;&quot;
      [label]&#x3D;&quot;&#x27;Greffe (projeté)&#x27;&quot;
      [dotColor]&#x3D;&quot;&#x27;#f083a0&#x27;&quot;
      [bgColor]&#x3D;&quot;&#x27;#ffcade&#x27;&quot;
      (value)&#x3D;&quot;display($event)&quot;
      [disabledEl]&#x3D;&quot;!canViewGreffier&quot;
      [ngClass]&#x3D;&quot;{
        &#x27;disabled-label&#x27;: !canViewGreffier,
      }&quot;
    &gt;&lt;/aj-legend-label&gt;
  }
  @if (!whiteSimulator || categorySelected &#x3D;&#x3D;&#x3D; &#x27;GREFFE&#x27;) {
    &lt;aj-legend-label
      [title]&#x3D;&quot;&#x27;simulatedGref&#x27;&quot;
      [label]&#x3D;&quot;&#x27;Greffe (simulé)&#x27;&quot;
      [dotColor]&#x3D;&quot;&#x27;#ffcade&#x27;&quot;
      [bgColor]&#x3D;&quot;&#x27;#f083a0&#x27;&quot;
      (value)&#x3D;&quot;display($event)&quot;
      [disabledEl]&#x3D;&quot;!canViewGreffier || categorySelected !&#x3D;&#x3D; &#x27;GREFFE&#x27; ? true : false&quot;
      [ngClass]&#x3D;&quot;{
        &#x27;disabled-label&#x27;: !canViewGreffier || categorySelected !&#x3D;&#x3D; &#x27;GREFFE&#x27;,
      }&quot;
    &gt;&lt;/aj-legend-label&gt;
  }
  @if (canViewContractuel) {
    &lt;div class&#x3D;&quot;space&quot;&gt;&lt;/div&gt;
  }
  @if (canViewContractuel) {
    &lt;aj-legend-label
      [title]&#x3D;&quot;&#x27;projectedCont&#x27;&quot;
      [label]&#x3D;&quot;&#x27;EAM (projeté)&#x27;&quot;
      [dotColor]&#x3D;&quot;&#x27;#fdbfb7&#x27;&quot;
      [bgColor]&#x3D;&quot;&#x27;#fcd7d3&#x27;&quot;
      (value)&#x3D;&quot;display($event)&quot;
      [disabledEl]&#x3D;&quot;!canViewContractuel&quot;
      [ngClass]&#x3D;&quot;{
        &#x27;disabled-label&#x27;: !canViewContractuel,
      }&quot;
    &gt;&lt;/aj-legend-label&gt;
  }
  @if (canViewContractuel) {
    &lt;aj-legend-label
      [title]&#x3D;&quot;&#x27;simulatedCont&#x27;&quot;
      [label]&#x3D;&quot;&#x27;EAM (simulé)&#x27;&quot;
      [dotColor]&#x3D;&quot;&#x27;#fcd7d3&#x27;&quot;
      [bgColor]&#x3D;&quot;&#x27;#eba89f&#x27;&quot;
      (value)&#x3D;&quot;display($event)&quot;
      [disabledEl]&#x3D;&quot;true&quot;
      class&#x3D;&quot;disabled-label&quot;
    &gt;&lt;/aj-legend-label&gt;
  }
&lt;/div&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="styleData">
                <p class="comment">
                    <code>./etp-chart.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">:host {
    display: flex;
    margin-top: 1px;
    position: relative;


    #chartjs-tooltip-triangle {
        position: absolute !important;
        z-index: 200;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
        height: 0;
        width: 0;
        border-bottom: 4px solid white;
        border-right: 4px solid transparent;
        border-left: 4px solid transparent;
        position: absolute;
        bottom: -4px;
        left: 195px;
        transform: rotate(180deg) !important;
        -webkit-transition: all .1s ease;
        transition: all 1s ease;
        pointer-events: none;
        -webkit-transform: translate(-50%, 0);
        transform: translate(-50%, 0);
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
        opacity: 0;
    }

    .disabled-label {
        pointer-events: none;
        opacity: 0.3;
    }

    #etp-chart {
        height: 250px;
        width: content-box;
    }

    #chartjs-tooltip {
        text-align: center;
        position: relative;
        z-index: 5;
        opacity: 0;
        width: 381px;
        position: absolute;
        background: white;
        padding: 16px;
        border-radius: 3px;
        -webkit-transition: all .1s ease;
        transition: all 1s ease;
        pointer-events: none;
        -webkit-transform: translate(-50%, 0);
        transform: translate(-50%, 0);
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);



        .circle {
            margin: 8px 8px 8px 0px;
            width: 8px;
            height: 8px;
            border-radius: 50%;

            &amp;.light-pink {
                background-color: #f083a0;
            }
            &amp;.pink {
                background-color: #e07dd8;
            }
        }

        .popin-raw {
            display: flex;
            justify-content: center;
            align-items: center;

            .popin-title {
                width: 150px;
                display: flex;
                font-size: 12px;
                line-height: 1.33;
                color: #666;
                align-items: center;

                b {
                    align-self: center;
                }
            }

            .low-value {
                position: relative;
                width: 64px;
                padding: 8px;
                height: 32px;
                flex: 1;
                background-color: #f6f6f6;
                line-height: 100%;
                font-size: 16px;
                font-weight: bold;
                color: #b51f58;

                &amp;.first {
                    &amp;::before {
                        content: &quot;&quot;;
                        position: absolute;
                        background-color: #f6f6f6;
                        height: 50%;
                        width: 100%;
                        top: -50%;
                        left: 0px;
                    }
                }

            }

            .hard-value {
                position: relative;
                width: 64px;
                padding: 8px;
                height: 32px;
                flex: 1;
                background-color: #ededed;
                line-height: 100%;
                font-size: 16px;
                font-weight: bold;
                color: #b51f58;

                &amp;.first {
                    &amp;::before {
                        content: &quot;&quot;;
                        position: absolute;
                        background-color: #ededed;
                        height: 50%;
                        width: 100%;
                        top: -50%;
                        left: 0px;


                    }
                }
            }

            .white-value {
                display: flex;
                align-items: center;
                justify-content: center;
                width: 64px;
                padding: 8px;
                height: 32px;
                line-height: 100%;
                flex: 1;
                font-size: 12px;
                font-weight: bold;

                .rounded-label {
                    justify-content: center;
                    display: flex;
                    align-items: center;
                    width: 64px;
                    height: 24px;
                    border-radius: 12px;
                    background-color: #f7ecdb;

                    label {

                        font-size: 12px;

                        color: #d1b781;
                    }
                }
            }
        }

        .popin-title-content {
            display: flex;
            justify-content: center;
            align-items: center;

            .popin-title {
                text-align: left;
                width: 150px;
                height: 32px;
                line-height: 100%;
                font-size: 12px;
                line-height: 1.33;
                color: #666;
            }

            .low {
                /*******/
                position: relative;
                width: 64px;
                padding: 8px;
                height: 32px;
                flex: 1;
                border-radius: 8px;
                background-color: #ededed;
                font-size: 12px;
                line-height: 100%;
                font-weight: bold;
                z-index: 5;
            }

            .hard {
                position: relative;
                width: 64px;
                padding: 8px;
                height: 32px;
                flex: 1;
                border-radius: 8px;
                background-color: #dfdfdf;
                font-size: 12px;
                line-height: 100%;
                font-weight: bold;
                z-index: 5;
            }

            .white {
                width: 64px;
                padding: 8px;
                height: 32px;
                flex: 1;
                font-size: 12px;
                line-height: 100%;
                font-weight: bold;
            }
        }


    }

    .left-side {
        flex: 4;
        display: flex;
        flex-direction: column;
        width: 70%;
        .title {
            height: 73px;
            padding: 24px 24px;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            background-color: #fff;
            position: relative;

            p {
                font-size: 16px;
                font-weight: bold;
                color: #3a3a3a;
            }

            label {
                font-size: 14px;
                line-height: 1.71;
                color: #929292;
            }
        }

        .container {
            padding: 8px;
            flex: 1;
            z-index: 1;
            background-color: #fff;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            position: relative;
            align-items: center;
            display: flex;
            justify-content: center;

            .canvas-container {
                width: 100%;
                margin-left: 5px;
            }
        }
    }

    .right-side {
        padding-top: 97px !important;
        flex: 1;
        padding: 24px;
        background-color: #f5f5fe;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        align-items: center;

        .space {
            height: 16px;
        }
    }




}</code></pre>
    </div>

    <div class="tab-pane fade " id="tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="left-side">  <div class="title">    <p>      Evolution des ETPT mensuels moyens &nbsp;      <label>de {{ startRealValueShort }} à {{ stopRealValueShort      }}</label>    </p>  </div>  <div class="container">    <div class="canvas-container">      <canvas id="etp-chart"></canvas>      <div id="chartjs-tooltip">        <div class="popin-title-content">          <p class="popin-title">            <b>Effectifs</b>            <br />            à {{ getRealMonth(realSelectedMonth) }}          </p>          <div class="low">Projetés</div>          <p class="hard">Simulés</p>          <p class="white">Variation</p>        </div>        @if (canViewMagistrat) {          <div class="popin-raw">            <div class="popin-title">              <div _ngcontent-vmx-c83="" class="circle pink"></div>              <b>Magistrats</b>            </div>            <p class="low-value first">              {{ getRounded(tooltip.projectedMag) || \'\' }}            </p>            <p class="hard-value first">              {{ this.categorySelected === \'MAGISTRAT\' ? getRounded(tooltip.simulatedMag) || \'\' : \'\' }}            </p>            <div class="white-value">              @if (this.categorySelected === \'MAGISTRAT\') {                <div class="rounded-label">                  <label>                    {{ getDeltaInPercent(tooltip.simulatedMag, tooltip.projectedMag) || 0 }}                    %                  </label>                </div>              }            </div>          </div>        }        @if (canViewGreffier) {          <div class="popin-raw">            <div class="popin-title">              <div _ngcontent-vmx-c83="" class="circle light-pink"></div>              <b>Agents</b>              &nbsp;            </div>            <p class="low-value">              {{ getRounded(tooltip.projectedFon) || \'\' }}            </p>            <p class="hard-value">              {{ this.categorySelected === \'MAGISTRAT\' ? \'\' : getRounded(tooltip.simulatedFon) || \'\' }}            </p>            <div class="white-value">              @if (this.categorySelected !== \'MAGISTRAT\') {                <div class="rounded-label">                  <label>                    {{ getDeltaInPercent(tooltip.simulatedFon, tooltip.projectedFon) || 0 }}                    %                  </label>                </div>              }            </div>          </div>        }        @if (canViewContractuel) {          <div class="popin-raw">            <div class="popin-title">              <div class="circle light-pink"></div>              <b>Autour du magistrat</b>              &nbsp;            </div>            <p class="low-value">              {{ getRounded(tooltip.projectedCont) || \'\' }}            </p>            <p class="hard-value"></p>            <div class="white-value"></div>          </div>        }      </div>      <div id="chartjs-tooltip-triangle"></div>    </div>  </div></div><div class="right-side">  @if (!whiteSimulator || categorySelected === \'MAGISTRAT\') {    <aj-legend-label      [title]="\'projectedMag\'"      [label]="\'Siège (projeté)\'"      [dotColor]="\'#e07dd8\'"      [bgColor]="\'#fdc0f8\'"      [disabledEl]="!canViewMagistrat"      [ngClass]="{        \'disabled-label\': !canViewMagistrat,      }"      (value)="display($event)"    ></aj-legend-label>  }  @if (!whiteSimulator || categorySelected === \'MAGISTRAT\') {    <aj-legend-label      [title]="\'simulatedMag\'"      [label]="\'Siège (simulé)\'"      [dotColor]="\'#fdc0f8\'"      [bgColor]="\'#e07dd8\'"      (value)="display($event)"      [disabledEl]="!canViewMagistrat || categorySelected !== \'MAGISTRAT\' ? true : false"      [ngClass]="{        \'disabled-label\': !canViewMagistrat || categorySelected !== \'MAGISTRAT\',      }"    ></aj-legend-label>  }  <div class="space"></div>  @if (!whiteSimulator || categorySelected === \'GREFFE\') {    <aj-legend-label      [title]="\'projectedGref\'"      [label]="\'Greffe (projeté)\'"      [dotColor]="\'#f083a0\'"      [bgColor]="\'#ffcade\'"      (value)="display($event)"      [disabledEl]="!canViewGreffier"      [ngClass]="{        \'disabled-label\': !canViewGreffier,      }"    ></aj-legend-label>  }  @if (!whiteSimulator || categorySelected === \'GREFFE\') {    <aj-legend-label      [title]="\'simulatedGref\'"      [label]="\'Greffe (simulé)\'"      [dotColor]="\'#ffcade\'"      [bgColor]="\'#f083a0\'"      (value)="display($event)"      [disabledEl]="!canViewGreffier || categorySelected !== \'GREFFE\' ? true : false"      [ngClass]="{        \'disabled-label\': !canViewGreffier || categorySelected !== \'GREFFE\',      }"    ></aj-legend-label>  }  @if (canViewContractuel) {    <div class="space"></div>  }  @if (canViewContractuel) {    <aj-legend-label      [title]="\'projectedCont\'"      [label]="\'EAM (projeté)\'"      [dotColor]="\'#fdbfb7\'"      [bgColor]="\'#fcd7d3\'"      (value)="display($event)"      [disabledEl]="!canViewContractuel"      [ngClass]="{        \'disabled-label\': !canViewContractuel,      }"    ></aj-legend-label>  }  @if (canViewContractuel) {    <aj-legend-label      [title]="\'simulatedCont\'"      [label]="\'EAM (simulé)\'"      [dotColor]="\'#fcd7d3\'"      [bgColor]="\'#eba89f\'"      (value)="display($event)"      [disabledEl]="true"      class="disabled-label"    ></aj-legend-label>  }</div></div>'
    var COMPONENTS = [{'name': 'AboutUsPage', 'selector': ''},{'name': 'AccessibilitiesPage', 'selector': ''},{'name': 'ActivitiesLastDisponibilitiesComponent', 'selector': 'activities-last-disponibilities'},{'name': 'ActivitiesLastModificationsComponent', 'selector': 'activities-last-modifications'},{'name': 'ActivitiesPage', 'selector': ''},{'name': 'ActivitiesToCompleteComponent', 'selector': 'activities-to-complete'},{'name': 'ActualPanelSituationComponent', 'selector': 'actual-panel-situation'},{'name': 'AddVentilationComponent', 'selector': 'add-ventilation'},{'name': 'AlertComponent', 'selector': 'aj-alert'},{'name': 'AlertSmallComponent', 'selector': 'aj-alert-small'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'AverageEtpDisplayerPage', 'selector': ''},{'name': 'AverageEtpPage', 'selector': ''},{'name': 'BackButtonComponent', 'selector': 'aj-back-button'},{'name': 'BigEtpPreviewComponent', 'selector': 'big-etp-preview'},{'name': 'BigLoaderComponent', 'selector': 'aj-big-loader'},{'name': 'CalculatorPage', 'selector': ''},{'name': 'CalculatriceComponent', 'selector': 'aj-calculatrice'},{'name': 'CGUPage', 'selector': ''},{'name': 'ChangePassword', 'selector': ''},{'name': 'CheckboxComponent', 'selector': 'aj-checkbox'},{'name': 'ChooseSimulatorComponent', 'selector': 'app-choose-simulator'},{'name': 'CommentActivitiesComponent', 'selector': 'aj-comment-activities'},{'name': 'CommentProfilComponent', 'selector': 'comment-profil'},{'name': 'CompletionBarComponent', 'selector': 'aj-completion-bar'},{'name': 'ContactPage', 'selector': ''},{'name': 'CoveragePreviewComponent', 'selector': 'aj-coverage-preview'},{'name': 'CoverProfilDetailsComponent', 'selector': 'cover-profil-details'},{'name': 'DashboardPage', 'selector': ''},{'name': 'DateSelectBlueComponent', 'selector': 'aj-date-select-blue'},{'name': 'DateSelectComponent', 'selector': 'aj-date-select'},{'name': 'DialWidgetComponent', 'selector': 'aj-dial-widget'},{'name': 'DocCardComponent', 'selector': 'aj-doc-card'},{'name': 'DtesChartComponent', 'selector': 'aj-dtes-chart'},{'name': 'EditableSituationComponent', 'selector': 'aj-editable-situation'},{'name': 'EmptyInputComponent', 'selector': 'aj-empty-input'},{'name': 'EtpChartComponent', 'selector': 'aj-etp-chart'},{'name': 'EtpPreviewComponent', 'selector': 'etp-preview'},{'name': 'ExtractorActivityComponent', 'selector': 'aj-extractor-activity'},{'name': 'ExtractorVentilationComponent', 'selector': 'aj-extractor-ventilation'},{'name': 'FiguresWidgetComponent', 'selector': 'aj-figures-widget'},{'name': 'FilterPanelComponent', 'selector': 'filter-panel'},{'name': 'FooterNoConnectedComponent', 'selector': 'aj-footer-no-connected'},{'name': 'ForgotPassword', 'selector': ''},{'name': 'GraphsNumbersComponent', 'selector': 'aj-graphs-numbers'},{'name': 'GraphsProgressComponent', 'selector': 'aj-graphs-progress'},{'name': 'GraphsVerticalsLinesComponent', 'selector': 'aj-graphs-verticals-lines'},{'name': 'HeaderSelectorsComponent', 'selector': 'aj-header-selectors'},{'name': 'HelpButtonComponent', 'selector': 'aj-help-button'},{'name': 'HelpCenterPage', 'selector': ''},{'name': 'HomePage', 'selector': ''},{'name': 'HumanResourcePage', 'selector': ''},{'name': 'IndispoProfilComponent', 'selector': 'indispo-profil'},{'name': 'InOutChartComponent', 'selector': 'aj-in-out-chart'},{'name': 'InputAdditionComponent', 'selector': 'aj-input-addition'},{'name': 'InputButtonComponent', 'selector': 'aj-input-button'},{'name': 'InputPercentageComponent', 'selector': 'aj-input-percentage'},{'name': 'IntroJSComponent', 'selector': 'aj-intro-js'},{'name': 'JuridictionsInstalledPage', 'selector': ''},{'name': 'LegaleNoticePage', 'selector': ''},{'name': 'LegendLabelComponent', 'selector': 'aj-legend-label'},{'name': 'ListSelectionComponent', 'selector': 'aj-list-selection'},{'name': 'LoadersWidgetComponent', 'selector': 'aj-loaders-widget'},{'name': 'LoginPage', 'selector': ''},{'name': 'LogoutPage', 'selector': ''},{'name': 'NewsComponent', 'selector': 'aj-news'},{'name': 'OneCommentComponent', 'selector': 'one-comment'},{'name': 'OptionsBackupPanelComponent', 'selector': 'aj-options-backup-panel'},{'name': 'PanelActivitiesComponent', 'selector': 'panel-activities'},{'name': 'PanelActivitiesComponent', 'selector': 'panel-effectif'},{'name': 'PanelHistoryVentilationComponent', 'selector': 'panel-history-ventilation'},{'name': 'PanoramaAlertComponent', 'selector': 'panorama-alert'},{'name': 'PanoramaPage', 'selector': ''},{'name': 'PassedCommentComponent', 'selector': 'passed-comment'},{'name': 'PeriodSelectorComponent', 'selector': 'aj-period-selector'},{'name': 'PersonPreviewComponent', 'selector': 'person-preview'},{'name': 'PopinEditActivitiesComponent', 'selector': 'aj-popin-edit-activities'},{'name': 'PopinGraphsDetailsComponent', 'selector': 'aj-popin-graphs-details'},{'name': 'PopupComponent', 'selector': 'aj-popup'},{'name': 'PrivacyPage', 'selector': ''},{'name': 'ProgressionBarComponent', 'selector': 'progression-bar'},{'name': 'RadioButtonComponent', 'selector': 'aj-radio-button'},{'name': 'ReaffectatorPage', 'selector': ''},{'name': 'RecordsUpdateComponent', 'selector': 'records-update'},{'name': 'ReferentielCalculatorComponent', 'selector': 'aj-referentiel-calculator'},{'name': 'SelectCheckAllComponent', 'selector': 'app-select-check-all'},{'name': 'SelectComponent', 'selector': 'aj-select'},{'name': 'SignupPage', 'selector': ''},{'name': 'SimulatorPage', 'selector': ''},{'name': 'SiteMapPage', 'selector': ''},{'name': 'SituationDisplayerComponent', 'selector': 'aj-situation-displayer'},{'name': 'SpeedometerComponent', 'selector': 'aj-speedometer'},{'name': 'StatsPage', 'selector': ''},{'name': 'TemplateAnalyticsComponent', 'selector': 'aj-template-analytics'},{'name': 'TextEditorComponent', 'selector': 'aj-text-editor'},{'name': 'TimeSelectorComponent', 'selector': 'app-time-selector'},{'name': 'TooltipsComponent', 'selector': 'aj-tooltips'},{'name': 'ViewAnalyticsComponent', 'selector': 'aj-view-analytics'},{'name': 'WelcomePage', 'selector': ''},{'name': 'WhiteSimulatorPage', 'selector': ''},{'name': 'WorkforceChangeComponent', 'selector': 'workforce-change'},{'name': 'WorkforceCompositionComponent', 'selector': 'workforce-composition'},{'name': 'WorkforcePage', 'selector': ''},{'name': 'WrapperComponent', 'selector': 'aj-wrapper'},{'name': 'WrapperNoConnectedComponent', 'selector': 'aj-wrapper-no-connected'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'EtpChartComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'EtpChartComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
