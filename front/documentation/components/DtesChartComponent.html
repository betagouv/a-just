<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>a-just-front documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">a-just-front documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li
  >
  DtesChartComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/components/dtes-chart/dtes-chart.component.ts</code>
</p>




    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/AfterViewInit" target="_blank" >AfterViewInit</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>aj-dtes-chart</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./dtes-chart.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./dtes-chart.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#data" >data</a>
                            </li>
                            <li>
                                <a href="#dateStart" >dateStart</a>
                            </li>
                            <li>
                                <a href="#dateStop" >dateStop</a>
                            </li>
                            <li>
                                <a href="#elementRef" >elementRef</a>
                            </li>
                            <li>
                                <a href="#labels" >labels</a>
                            </li>
                            <li>
                                <a href="#myChart" >myChart</a>
                            </li>
                            <li>
                                <a href="#startRealValue" >startRealValue</a>
                            </li>
                            <li>
                                <a href="#stopRealValue" >stopRealValue</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#display" >display</a>
                            </li>
                            <li>
                                <a href="#ngAfterViewInit" >ngAfterViewInit</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(element: ElementRef<HTMLElement>, simulatorService: <a href="../injectables/SimulatorService.html" target="_self">SimulatorService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="41" class="link-to-prism">src/app/components/dtes-chart/dtes-chart.component.ts:41</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>element</td>
                                                  
                                                        <td>
                                                                    <code>ElementRef&lt;HTMLElement&gt;</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>simulatorService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/SimulatorService.html" target="_self" >SimulatorService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="display"></a>
                    <span class="name">
                        <span ><b>display</b></span>
                        <a href="#display"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>display(event: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="338"
                            class="link-to-prism">src/app/components/dtes-chart/dtes-chart.component.ts:338</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngAfterViewInit"></a>
                    <span class="name">
                        <span ><b>ngAfterViewInit</b></span>
                        <a href="#ngAfterViewInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngAfterViewInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="121"
                            class="link-to-prism">src/app/components/dtes-chart/dtes-chart.component.ts:121</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="data"></a>
                    <span class="name">
                        <span ><b>data</b></span>
                        <a href="#data"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    projectedStock: {
      values: [0],
    },
    simulatedStock: {
      values: [0],
    },
    projectedDTES: {
      values: [0],
    },
    simulatedDTES: {
      values: [0],
    },
  }</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="28" class="link-to-prism">src/app/components/dtes-chart/dtes-chart.component.ts:28</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dateStart"></a>
                    <span class="name">
                        <span ><b>dateStart</b></span>
                        <a href="#dateStart"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Date()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="21" class="link-to-prism">src/app/components/dtes-chart/dtes-chart.component.ts:21</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dateStop"></a>
                    <span class="name">
                        <span ><b>dateStop</b></span>
                        <a href="#dateStop"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Date | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/components/dtes-chart/dtes-chart.component.ts:22</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="elementRef"></a>
                    <span class="name">
                        <span ><b>elementRef</b></span>
                        <a href="#elementRef"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>HTMLElement | undefined</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="25" class="link-to-prism">src/app/components/dtes-chart/dtes-chart.component.ts:25</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="labels"></a>
                    <span class="name">
                        <span ><b>labels</b></span>
                        <a href="#labels"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string[] | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="27" class="link-to-prism">src/app/components/dtes-chart/dtes-chart.component.ts:27</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="myChart"></a>
                    <span class="name">
                        <span ><b>myChart</b></span>
                        <a href="#myChart"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="26" class="link-to-prism">src/app/components/dtes-chart/dtes-chart.component.ts:26</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="startRealValue"></a>
                    <span class="name">
                        <span ><b>startRealValue</b></span>
                        <a href="#startRealValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="23" class="link-to-prism">src/app/components/dtes-chart/dtes-chart.component.ts:23</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="stopRealValue"></a>
                    <span class="name">
                        <span ><b>stopRealValue</b></span>
                        <a href="#stopRealValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="24" class="link-to-prism">src/app/components/dtes-chart/dtes-chart.component.ts:24</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {
  AfterViewInit,
  Component,
  ElementRef,
  Input,
  OnInit,
  ViewChild,
} from &#x27;@angular/core&#x27;
import { getRangeOfMonths, getShortMonthString } from &#x27;src/app/utils/dates&#x27;
import * as _ from &#x27;lodash&#x27;
import { Chart, ChartItem, registerables } from &#x27;chart.js&#x27;
import { findRealValue } from &#x27;src/app/utils/dates&#x27;
import { SimulatorService } from &#x27;src/app/services/simulator/simulator.service&#x27;

@Component({
  selector: &#x27;aj-dtes-chart&#x27;,
  templateUrl: &#x27;./dtes-chart.component.html&#x27;,
  styleUrls: [&#x27;./dtes-chart.component.scss&#x27;],
})
export class DtesChartComponent implements AfterViewInit {
  dateStart: Date &#x3D; new Date()
  dateStop: Date | null &#x3D; null
  startRealValue &#x3D; &#x27;&#x27;
  stopRealValue &#x3D; &#x27;&#x27;
  elementRef: HTMLElement | undefined
  myChart: any &#x3D; null
  labels: string[] | null &#x3D; null
  data &#x3D; {
    projectedStock: {
      values: [0],
    },
    simulatedStock: {
      values: [0],
    },
    projectedDTES: {
      values: [0],
    },
    simulatedDTES: {
      values: [0],
    },
  }

  constructor(
    element: ElementRef&lt;HTMLElement&gt;,
    simulatorService: SimulatorService
  ) {
    simulatorService.dateStop.subscribe((value) &#x3D;&gt; {
      this.stopRealValue &#x3D; findRealValue(value)
      this.dateStop &#x3D; value
      this.labels &#x3D; getRangeOfMonths(
        new Date(this.dateStart),
        new Date(this.dateStop)
      )
    })
    simulatorService.dateStart.subscribe((value) &#x3D;&gt; {
      this.startRealValue &#x3D; findRealValue(value)
      this.dateStart &#x3D; value
      if (this.dateStop !&#x3D;&#x3D; null) {
        this.labels &#x3D; getRangeOfMonths(
          new Date(this.dateStart),
          new Date(this.dateStop)
        )
      }
    })
    simulatorService.situationSimulated.subscribe((value) &#x3D;&gt; {
      if (this.labels !&#x3D;&#x3D; null) {
        this.data.projectedStock.values &#x3D; simulatorService.generateLinearData(
          simulatorService.getFieldValue(
            &#x27;lastStock&#x27;,
            simulatorService.situationActuelle.getValue()
          ),
          simulatorService.getFieldValue(
            &#x27;lastStock&#x27;,
            simulatorService.situationProjected.getValue()
          ),
          this.labels.length
        )
        this.data.simulatedStock.values &#x3D; simulatorService.generateLinearData(
          simulatorService.getFieldValue(
            &#x27;lastStock&#x27;,
            simulatorService.situationActuelle.getValue()
          ),
          value?.lastStock as number,
          this.labels.length
        )

        this.data.simulatedDTES.values &#x3D; simulatorService.generateLinearData(
          simulatorService.situationActuelle.getValue()!
            .realDTESInMonths as number,
          value?.realDTESInMonths as number,
          this.labels.length
        )

        this.data.projectedDTES.values &#x3D; simulatorService.generateLinearData(
          simulatorService.situationActuelle.getValue()!
            .realDTESInMonths as number,
          simulatorService.situationProjected.getValue()!
            .realDTESInMonths as number,
          this.labels.length
        )

        if (this.myChart !&#x3D;&#x3D; null) {
          this.myChart.config.data.labels &#x3D; this.labels
          this.myChart._metasets[0]._dataset.data &#x3D;
            this.data.projectedStock.values
          this.myChart._metasets[1]._dataset.data &#x3D;
            this.data.simulatedStock.values
          this.myChart._metasets[2]._dataset.data &#x3D;
            this.data.projectedDTES.values
          this.myChart._metasets[3]._dataset.data &#x3D;
            this.data.simulatedDTES.values
          this.myChart.update()
        }
      }
    })

    this.elementRef &#x3D; element.nativeElement
    Chart.register(...registerables)
  }

  ngAfterViewInit(): void {
    const labels &#x3D; this.labels

    const data &#x3D; {
      labels: labels,
      datasets: [
        {
          label: &#x27;projectedStock&#x27;,
          yAxisID: &#x27;A&#x27;,
          backgroundColor: &#x27;#c3fad5&#x27;,
          borderColor: &#x27;#c3fad5&#x27;,
          data: this.data.projectedStock.values,
        },
        {
          label: &#x27;simulatedStock&#x27;,
          yAxisID: &#x27;A&#x27;,
          backgroundColor: &#x27;#6fe49d&#x27;,
          borderColor: &#x27;#6fe49d&#x27;,
          data: this.data.simulatedStock.values,
        },
        {
          label: &#x27;projectedDTES&#x27;,
          yAxisID: &#x27;B&#x27;,
          backgroundColor: &#x27;#bfcdff&#x27;,
          borderColor: &#x27;#bfcdff&#x27;,
          data: this.data.projectedDTES.values,
        },
        {
          yAxisID: &#x27;B&#x27;,
          label: &#x27;simulatedDTES&#x27;,
          backgroundColor: &#x27;#7b99e4&#x27;,
          borderColor: &#x27;#7b99e4&#x27;,
          data: this.data.simulatedDTES.values,
        },
      ],
    }

    const yScaleTextStock &#x3D; {
      id: &#x27;yScaleTextStock&#x27;,
      afterDraw(chart: any, args: any, options: any) {
        const ctx &#x3D; chart.ctx
        const top &#x3D; chart.chartArea.top
        ctx.save()
        ctx.font &#x3D; &#x27;14px Arial&#x27;
        ctx.fillStyle &#x3D; &#x27;#666&#x27;
        ctx.fillText(&#x27;Stock&#x27;, 1, top - 2)
        ctx.restore()
      },
    }

    const yScaleTextDTES &#x3D; {
      id: &#x27;yScaleTextDTES&#x27;,
      afterDraw(chart: any, args: any, options: any) {
        const ctx &#x3D; chart.ctx
        const top &#x3D; chart.chartArea.top
        const right &#x3D; chart.chartArea.right
        ctx.save()
        ctx.font &#x3D; &#x27;14px Arial&#x27;
        ctx.fillStyle &#x3D; &#x27;#666&#x27;
        ctx.fillText(&#x27;DTES&#x27;, right - 40, top - 2)
        ctx.restore()
      },
    }

    const footer &#x3D; (tooltipItems: any) &#x3D;&gt; {
      let sum &#x3D; 0

      tooltipItems.forEach(function (tooltipItem: any) {
        sum +&#x3D; tooltipItem.parsed.y
      })
      return &#x27;Sum: &#x27; + sum
    }

    const label &#x3D; (context: any) &#x3D;&gt; {
      let sufix &#x3D; &#x27;&#x27;
      switch (context.dataset.label) {
        case &#x27;simulatedStock&#x27;:
          sufix &#x3D; &#x27;affaires (simulé)&#x27;
          break
        case &#x27;projectedStock&#x27;:
          sufix &#x3D; &#x27;affaires (projeté)&#x27;
          break
        case &#x27;simulatedDTES&#x27;:
          sufix &#x3D; &#x27;mois (simulé)&#x27;
          break
        case &#x27;projectedDTES&#x27;:
          sufix &#x3D; &#x27;mois (projeté)&#x27;
          break
      }
      let lbl &#x3D; &#x27;&#x27;

      if (sufix.slice(0, 4) &#x3D;&#x3D;&#x3D; &#x27;mois&#x27;)
        lbl &#x3D; &#x27;  &#x27; + context.formattedValue + &#x27; &#x27; + sufix //context.label +
      else
        lbl &#x3D;
          &#x27;  &#x27; + Math.floor(parseFloat(context.formattedValue)) + &#x27; &#x27; + sufix
      return lbl
    }

    const config: any &#x3D; {
      type: &#x27;line&#x27;,
      data: data,
      options: {
        tooltips: {
          callbacks: {
            title: function (tooltipItem: any, data: any) {
              return data[&#x27;labels&#x27;][tooltipItem[0][&#x27;index&#x27;]]
            },
            label: function (tooltipItem: any, data: any) {
              return data[&#x27;datasets&#x27;][0][&#x27;data&#x27;][tooltipItem[&#x27;index&#x27;]]
            },
            afterLabel: function (tooltipItem: any, data: any) {
              var dataset &#x3D; data[&#x27;datasets&#x27;][0]
              var percent &#x3D; Math.round(
                (dataset[&#x27;data&#x27;][tooltipItem[&#x27;index&#x27;]] /
                  dataset[&#x27;_meta&#x27;][0][&#x27;total&#x27;]) *
                  100
              )
              return &#x27;(&#x27; + percent + &#x27;%)&#x27;
            },
          },
        },
        interaction: {
          intersect: false,
          mode: &#x27;index&#x27;,
        },
        animation: {
          interaction: {
            intersect: false,
          },
        },
        responsive: true,
        maintainAspectRatio: false,
        layout: {
          padding: { top: 20, left: 20, right: 20 },
        },
        scales: {
          x: {
            grid: {
              drawTicks: true,
              tickColor: &#x27;white&#x27;,
            },
          },
          A: {
            beginAtZero: true,
            type: &#x27;linear&#x27;,
            position: &#x27;left&#x27;,
            ticks: {
              display: true,
              min: 0,
              max: 100,
              stepSize: 10,
              callback: (value: any, index: any, values: any) &#x3D;&gt;
                index &#x3D;&#x3D; values.length - 1 ? &#x27;&#x27; : value,
            },
            grid: {
              drawTicks: false,
              display: true,
            },
          },
          B: {
            beginAtZero: true,
            type: &#x27;linear&#x27;,
            position: &#x27;right&#x27;,
            grid: { display: false },
            ticks: {
              showLabelBackdrop: false,
              z: 1,
              display: true,
              mirror: true,
              labelOffset: -15,
              padding: -3,
              callback: (value: any, index: any, values: any) &#x3D;&gt;
                index &#x3D;&#x3D; values.length - 1 ? &#x27;&#x27; : value,
            },
          },
        },
        plugins: {
          legend: {
            display: false,
          },
          tooltip: {
            usePointStyle: true,
            boxWidth: 15,
            position: &#x27;nearest&#x27;,
            displaycolors: false,
            backgroundColor: &#x27;white&#x27;,
            borderColor: &#x27;rgba(94, 92, 92, 0.316)&#x27;,
            borderWidth: 0.5,
            padding: { top: 18, left: 12, right: 10, bottom: 18 },
            boxPadding: 10,
            bodyFont: {
              size: 14,
              style: &#x27;normal&#x27;,
              family: &#x27;Marianne&#x27;,
              lineHeight: 1.5,
            },
            callbacks: {
              title: function () {
                return null
              },
              labelTextColor: (content: any) &#x3D;&gt; {
                return &#x27;black&#x27;
              },
              label: label,
            },
          },
        },
      },
      plugins: [yScaleTextStock, yScaleTextDTES],
    }
    this.myChart &#x3D; new Chart(
      document.getElementById(&#x27;dtes-chart&#x27;) as ChartItem,
      config
    )
  }

  display(event: any) {
    let index: number | undefined &#x3D; undefined
    if (event.label &#x3D;&#x3D;&#x3D; &#x27;projectedStock&#x27;) index &#x3D; 0
    if (event.label &#x3D;&#x3D;&#x3D; &#x27;simulatedStock&#x27;) index &#x3D; 1
    if (event.label &#x3D;&#x3D;&#x3D; &#x27;projectedDTES&#x27;) index &#x3D; 2
    if (event.label &#x3D;&#x3D;&#x3D; &#x27;simulatedDTES&#x27;) index &#x3D; 3
    const isDataShown &#x3D; this.myChart.isDatasetVisible(index)
    if (isDataShown &#x3D;&#x3D;&#x3D; true) this.myChart.hide(index)
    else this.myChart.show(index)
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;script src&#x3D;&quot;https://cdn.jsdelivr.net/npm/chart.js&quot;&gt;&lt;/script&gt;

&lt;div class&#x3D;&quot;left-side&quot;&gt;
  &lt;div class&#x3D;&quot;title&quot;&gt;
    &lt;p&gt;
      Evolution du stock et DTES &amp;nbsp;
      &lt;label
        &gt;{{ startRealValue &#x3D;&#x3D;&#x3D; &#x27;&#x27; ? &quot;d&#x27;aujourd&#x27;hui&quot; : &#x27;du&#x27; }}
        {{ startRealValue }} au {{ stopRealValue }}&lt;/label
      &gt;
    &lt;/p&gt;
  &lt;/div&gt;
  &lt;div class&#x3D;&quot;container&quot;&gt;
    &lt;div style&#x3D;&quot;width: 100%&quot;&gt;
      &lt;canvas
        id&#x3D;&quot;dtes-chart&quot;
        style&#x3D;&quot;height: 250px; width: content-box&quot;
      &gt;&lt;/canvas&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;div class&#x3D;&quot;right-side&quot;&gt;
  &lt;aj-legend-label
    [title]&#x3D;&quot;&#x27;projectedStock&#x27;&quot;
    [label]&#x3D;&quot;&#x27;Stock (projeté)&#x27;&quot;
    [dotColor]&#x3D;&quot;&#x27;#62dda7&#x27;&quot;
    [bgColor]&#x3D;&quot;&#x27;#c3fad5&#x27;&quot;
    (value)&#x3D;&quot;display($event)&quot;
  &gt;&lt;/aj-legend-label&gt;

  &lt;aj-legend-label
    [title]&#x3D;&quot;&#x27;simulatedStock&#x27;&quot;
    [label]&#x3D;&quot;&#x27;Stock (simulé)&#x27;&quot;
    [dotColor]&#x3D;&quot;&#x27;#00a95f&#x27;&quot;
    [bgColor]&#x3D;&quot;&#x27;#6fe49d&#x27;&quot;
    (value)&#x3D;&quot;display($event)&quot;
  &gt;&lt;/aj-legend-label&gt;
  &lt;div class&#x3D;&quot;space&quot;&gt;&lt;/div&gt;
  &lt;aj-legend-label
    [title]&#x3D;&quot;&#x27;projectedDTES&#x27;&quot;
    [label]&#x3D;&quot;&#x27;DTES (projeté)&#x27;&quot;
    [dotColor]&#x3D;&quot;&#x27;#869ece&#x27;&quot;
    [bgColor]&#x3D;&quot;&#x27;#bfcdff&#x27;&quot;
    (value)&#x3D;&quot;display($event)&quot;
  &gt;&lt;/aj-legend-label&gt;

  &lt;aj-legend-label
    [title]&#x3D;&quot;&#x27;simulatedDTES&#x27;&quot;
    [label]&#x3D;&quot;&#x27;DTES (simulé)&#x27;&quot;
    [dotColor]&#x3D;&quot;&#x27;#dee5fd&#x27;&quot;
    [bgColor]&#x3D;&quot;&#x27;#7b99e4&#x27;&quot;
    (value)&#x3D;&quot;display($event)&quot;
  &gt;&lt;/aj-legend-label&gt;
&lt;/div&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./dtes-chart.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">:host {
    display: flex;
    margin-top: 1px;

    .left-side {
        flex: 4;
        display: flex;
        flex-direction: column;

        .title {
            height: 73px;
            padding: 24px 24px;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            background-color: #fff;
            position: relative;
            z-index: 3;

            p {
                font-size: 16px;
                font-weight: bold;
                color: #3a3a3a;
            }

            label {
                font-size: 14px;
                line-height: 1.71;
                color: #929292;
            }
        }

        .container {
            padding: 8px;
            flex: 1;
            z-index: 2;
            background-color: #fff;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            position: relative;
            align-items: center;
            display: flex;
            justify-content: center;
        }
    }

    .right-side {
        padding-top: 97px !important;
        flex: 1;
        padding: 24px;
        background-color: #f5f5fe;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        z-index: 3;
        align-items: center;

        .space {
            height: 16px;
        }
    }




}</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><script src="https://cdn.jsdelivr.net/npm/chart.js"></script><div class="left-side">  <div class="title">    <p>      Evolution du stock et DTES &nbsp;      <label        >{{ startRealValue === \'\' ? "d\'aujourd\'hui" : \'du\' }}        {{ startRealValue }} au {{ stopRealValue }}</label      >    </p>  </div>  <div class="container">    <div style="width: 100%">      <canvas        id="dtes-chart"        style="height: 250px; width: content-box"      ></canvas>    </div>  </div></div><div class="right-side">  <aj-legend-label    [title]="\'projectedStock\'"    [label]="\'Stock (projeté)\'"    [dotColor]="\'#62dda7\'"    [bgColor]="\'#c3fad5\'"    (value)="display($event)"  ></aj-legend-label>  <aj-legend-label    [title]="\'simulatedStock\'"    [label]="\'Stock (simulé)\'"    [dotColor]="\'#00a95f\'"    [bgColor]="\'#6fe49d\'"    (value)="display($event)"  ></aj-legend-label>  <div class="space"></div>  <aj-legend-label    [title]="\'projectedDTES\'"    [label]="\'DTES (projeté)\'"    [dotColor]="\'#869ece\'"    [bgColor]="\'#bfcdff\'"    (value)="display($event)"  ></aj-legend-label>  <aj-legend-label    [title]="\'simulatedDTES\'"    [label]="\'DTES (simulé)\'"    [dotColor]="\'#dee5fd\'"    [bgColor]="\'#7b99e4\'"    (value)="display($event)"  ></aj-legend-label></div></div>'
    var COMPONENTS = [{'name': 'ActivitiesPage', 'selector': ''},{'name': 'ActualPanelSituationComponent', 'selector': 'actual-panel-situation'},{'name': 'AddVentilationComponent', 'selector': 'add-ventilation'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'AverageEtpPage', 'selector': ''},{'name': 'CalculatorPage', 'selector': ''},{'name': 'ChangePassword', 'selector': ''},{'name': 'CoveragePreviewComponent', 'selector': 'aj-coverage-preview'},{'name': 'DashboardPage', 'selector': ''},{'name': 'DateSelectBlueComponent', 'selector': 'aj-date-select-blue'},{'name': 'DateSelectComponent', 'selector': 'aj-date-select'},{'name': 'DialWidgetComponent', 'selector': 'aj-dial-widget'},{'name': 'DtesChartComponent', 'selector': 'aj-dtes-chart'},{'name': 'EtpPreviewComponent', 'selector': 'etp-preview'},{'name': 'FiguresWidgetComponent', 'selector': 'aj-figures-widget'},{'name': 'ForgotPassword', 'selector': ''},{'name': 'HomePage', 'selector': ''},{'name': 'HumanResourcePage', 'selector': ''},{'name': 'InOutChartComponent', 'selector': 'aj-in-out-chart'},{'name': 'InputButtonComponent', 'selector': 'aj-input-button'},{'name': 'InputPercentageComponent', 'selector': 'aj-input-percentage'},{'name': 'LegendLabelComponent', 'selector': 'aj-legend-label'},{'name': 'ListSelectionComponent', 'selector': 'aj-list-selection'},{'name': 'LoadersWidgetComponent', 'selector': 'aj-loaders-widget'},{'name': 'LoginPage', 'selector': ''},{'name': 'OptionsBackupPanelComponent', 'selector': 'aj-options-backup-panel'},{'name': 'PanelActivitiesComponent', 'selector': 'panel-activities'},{'name': 'PanelHistoryVentilationComponent', 'selector': 'panel-history-ventilation'},{'name': 'PopupComponent', 'selector': 'aj-popup'},{'name': 'ProgressionBarComponent', 'selector': 'progression-bar'},{'name': 'RadioButtonComponent', 'selector': 'aj-radio-button'},{'name': 'ReaffectatorPage', 'selector': ''},{'name': 'ReferentielCalculatorComponent', 'selector': 'aj-referentiel-calculator'},{'name': 'RhBackupPanelComponent', 'selector': 'aj-rh-backup-panel'},{'name': 'SelectCheckAllComponent', 'selector': 'app-select-check-all'},{'name': 'SelectComponent', 'selector': 'aj-select'},{'name': 'SignupPage', 'selector': ''},{'name': 'SimulatorPage', 'selector': ''},{'name': 'SpeedometerComponent', 'selector': 'aj-speedometer'},{'name': 'TimeSelectorComponent', 'selector': 'app-time-selector'},{'name': 'TooltipsComponent', 'selector': 'aj-tooltips'},{'name': 'WorkforcePage', 'selector': ''},{'name': 'WrapperComponent', 'selector': 'aj-wrapper'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'DtesChartComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'DtesChartComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
