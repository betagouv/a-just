<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>a-just-front documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">a-just-front documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >SimulatorService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/services/simulator/simulator.service.ts</code>
        </p>


            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>Service de la page du simulateur</p>

            </p>

            <p class="comment">
                <h3>Extends</h3>
            </p>
            <p class="comment">
                            <code><a href="../classes/MainClass.html" target="_self" >MainClass</a></code>
            </p>


            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#chartAnnotationBox" >chartAnnotationBox</a>
                            </li>
                            <li>
                                <a href="#contentieuOrSubContentieuId" >contentieuOrSubContentieuId</a>
                            </li>
                            <li>
                                <a href="#dateStart" >dateStart</a>
                            </li>
                            <li>
                                <a href="#dateStop" >dateStop</a>
                            </li>
                            <li>
                                <a href="#disabled" >disabled</a>
                            </li>
                            <li>
                                <a href="#humanResourceService" >humanResourceService</a>
                            </li>
                            <li>
                                <a href="#isLoading" >isLoading</a>
                            </li>
                            <li>
                                <a href="#isValidatedWhiteSimu" >isValidatedWhiteSimu</a>
                            </li>
                            <li>
                                <a href="#selectedCategory" >selectedCategory</a>
                            </li>
                            <li>
                                <a href="#selectedFonctionsIds" >selectedFonctionsIds</a>
                            </li>
                            <li>
                                <a href="#serverService" >serverService</a>
                            </li>
                            <li>
                                <a href="#situationActuelle" >situationActuelle</a>
                            </li>
                            <li>
                                <a href="#situationProjected" >situationProjected</a>
                            </li>
                            <li>
                                <a href="#situationSimulated" >situationSimulated</a>
                            </li>
                            <li>
                                <a href="#userService" >userService</a>
                            </li>
                            <li>
                                <a href="#whiteSimulatorNbOfDays" >whiteSimulatorNbOfDays</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#generateData" >generateData</a>
                            </li>
                            <li>
                                <a href="#generateLinearData" >generateLinearData</a>
                            </li>
                            <li>
                                <a href="#getFieldValue" >getFieldValue</a>
                            </li>
                            <li>
                                <a href="#getLabelTranslation" >getLabelTranslation</a>
                            </li>
                            <li>
                                <a href="#getSituation" >getSituation</a>
                            </li>
                            <li>
                                <a href="#range" >range</a>
                            </li>
                            <li>
                                <a href="#toSimulate" >toSimulate</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor()</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="92" class="link-to-prism">src/app/services/simulator/simulator.service.ts:92</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Constructeur</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateData"></a>
                    <span class="name">
                        <span ><b>generateData</b></span>
                        <a href="#generateData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>generateData(value1: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, size: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="371"
                                    class="link-to-prism">src/app/services/simulator/simulator.service.ts:371</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Function used to get an Array of identical values</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>value1</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                            </td>
                                        </tr>
                                        <tr>
                                                <td>size</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>lenght of the array</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>Array of values</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateLinearData"></a>
                    <span class="name">
                        <span ><b>generateLinearData</b></span>
                        <a href="#generateLinearData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>generateLinearData(value1: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, value2: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, step: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, negativValues)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="347"
                                    class="link-to-prism">src/app/services/simulator/simulator.service.ts:347</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Function used to generate a dataset using linear function</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Default value</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>value1</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                            </td>

                                            <td>
                                                    <p>start value</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>value2</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                            </td>

                                            <td>
                                                    <p>end value</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>step</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                            </td>

                                            <td>
                                                    <p>number of step between values</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>negativValues</td>
                                            <td>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                                    <code>false</code>
                                            </td>

                                            <td>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>return a LinearDataset</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getFieldValue"></a>
                    <span class="name">
                        <span ><b>getFieldValue</b></span>
                        <a href="#getFieldValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getFieldValue(param: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, data: SimulatorInterface | SimulationInterface | null, initialValue, toCompute)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="243"
                                    class="link-to-prism">src/app/services/simulator/simulator.service.ts:243</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Get the value of the displayed field</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Default value</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>param</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                            </td>

                                            <td>
                                                    <p>label name</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                        <code>SimulatorInterface | SimulationInterface | null</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                            </td>

                                            <td>
                                                    <p>simulated situation data object</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>initialValue</td>
                                            <td>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                                    <code>false</code>
                                            </td>

                                            <td>
                                                    <p>specified if initialValue need to be converted or not in case of % or month</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>toCompute</td>
                                            <td>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                                    <code>false</code>
                                            </td>

                                            <td>
                                                    <p>specified if the value returned is used afterwards to compute something, then let the value in decimal without unit</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>label value as string or float</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getLabelTranslation"></a>
                    <span class="name">
                        <span ><b>getLabelTranslation</b></span>
                        <a href="#getLabelTranslation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getLabelTranslation(value: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="213"
                                    class="link-to-prism">src/app/services/simulator/simulator.service.ts:213</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Get the label of a field and return the full text name of the label</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>value</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>label name</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>text value of the designated label</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSituation"></a>
                    <span class="name">
                        <span ><b>getSituation</b></span>
                        <a href="#getSituation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getSituation(referentielId: Array<number> | null, dateStart?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank">Date</a>, dateStop?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank">Date</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="142"
                                    class="link-to-prism">src/app/services/simulator/simulator.service.ts:142</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Get situation data (current, at start date or at end date/projected depending on parameters passed)</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>referentielId</td>
                                            <td>
                                                        <code>Array&lt;number&gt; | null</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>contentieux ID</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>dateStart</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <p>optional start date of the situation</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>dateStop</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                            <td>
                                                    <p>optional end date of the situation</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>Situation data interface</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="range"></a>
                    <span class="name">
                        <span ><b>range</b></span>
                        <a href="#range"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>range(start: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, end: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, length: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="329"
                                    class="link-to-prism">src/app/services/simulator/simulator.service.ts:329</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Function to compute equal steps between a start and stop value</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>start</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>end</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>length</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>Array of values between start and end value using a defined step</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toSimulate"></a>
                    <span class="name">
                        <span ><b>toSimulate</b></span>
                        <a href="#toSimulate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>toSimulate(params: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, simulation: <a href="../interfaces/SimulationInterface.html" target="_self">SimulationInterface</a>, white)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="170"
                                    class="link-to-prism">src/app/services/simulator/simulator.service.ts:170</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Function used to compute the simulated situation</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Default value</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>params</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                            </td>

                                            <td>
                                                    <p>containing the object parameters used to compute the simulation</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>simulation</td>
                                            <td>
                                                            <code><a href="../interfaces/SimulationInterface.html" target="_self" >SimulationInterface</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                            </td>

                                            <td>
                                                    <p>empty situation object to be filled</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>white</td>
                                            <td>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                                    <code>false</code>
                                            </td>

                                            <td>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="chartAnnotationBox"></a>
                    <span class="name">
                        <span ><b>chartAnnotationBox</b></span>
                        <a href="#chartAnnotationBox"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/ChartAnnotationBoxInterface.html" target="_self" >BehaviorSubject&lt;ChartAnnotationBoxInterface&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;ChartAnnotationBoxInterface&gt;({
    display: false,
    xMin: null,
    xMax: null,
    content: undefined,
  })</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="73" class="link-to-prism">src/app/services/simulator/simulator.service.ts:73</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Popin pour graphiques de simulation</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="contentieuOrSubContentieuId"></a>
                    <span class="name">
                        <span ><b>contentieuOrSubContentieuId</b></span>
                        <a href="#contentieuOrSubContentieuId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>BehaviorSubject&lt;Array | null&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;Array&lt;number&gt; | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="53" class="link-to-prism">src/app/services/simulator/simulator.service.ts:53</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Liste de contentieux/sous contentieux selectionné(s) par l&#39;utilisateur</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dateStart"></a>
                    <span class="name">
                        <span ><b>dateStart</b></span>
                        <a href="#dateStart"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>BehaviorSubject&lt;Date&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;Date&gt;(new Date())</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="57" class="link-to-prism">src/app/services/simulator/simulator.service.ts:57</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Date de début de simulation selectionnée par l&#39;utilisateur (définie par défaut à aujourd&#39;hui)</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dateStop"></a>
                    <span class="name">
                        <span ><b>dateStop</b></span>
                        <a href="#dateStop"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>BehaviorSubject&lt;Date | undefined&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;Date | undefined&gt;(undefined)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="61" class="link-to-prism">src/app/services/simulator/simulator.service.ts:61</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Date de fin de situation selectionnée par l&#39;utilisateur</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="disabled"></a>
                    <span class="name">
                        <span ><b>disabled</b></span>
                        <a href="#disabled"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>BehaviorSubject&lt;string&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;string&gt;(&#x27;disabled&#x27;)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="82" class="link-to-prism">src/app/services/simulator/simulator.service.ts:82</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Indicateur de selection de paramètre de simulation</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="humanResourceService"></a>
                    <span class="name">
                        <span ><b>humanResourceService</b></span>
                        <a href="#humanResourceService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(HumanResourceService)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="29" class="link-to-prism">src/app/services/simulator/simulator.service.ts:29</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Service de gestion des fiches agents</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isLoading"></a>
                    <span class="name">
                        <span ><b>isLoading</b></span>
                        <a href="#isLoading"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>BehaviorSubject&lt;boolean&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;boolean&gt;(false)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="37" class="link-to-prism">src/app/services/simulator/simulator.service.ts:37</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Loader display boolean</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isValidatedWhiteSimu"></a>
                    <span class="name">
                        <span ><b>isValidatedWhiteSimu</b></span>
                        <a href="#isValidatedWhiteSimu"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>BehaviorSubject&lt;boolean&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;boolean&gt;(false)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="87" class="link-to-prism">src/app/services/simulator/simulator.service.ts:87</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Validation de la situation de début sur simulateur à blanc</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedCategory"></a>
                    <span class="name">
                        <span ><b>selectedCategory</b></span>
                        <a href="#selectedCategory"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/HRCategoryInterface.html" target="_self" >BehaviorSubject&lt;HRCategoryInterface | null&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;HRCategoryInterface | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="65" class="link-to-prism">src/app/services/simulator/simulator.service.ts:65</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Categorie selectionnée par l&#39;utilisateur (Magistrat/Fonctionnaire)</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedFonctionsIds"></a>
                    <span class="name">
                        <span ><b>selectedFonctionsIds</b></span>
                        <a href="#selectedFonctionsIds"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>BehaviorSubject&lt;number[]&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;number[]&gt;([])</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="69" class="link-to-prism">src/app/services/simulator/simulator.service.ts:69</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Fonction(s) selectionnées par l&#39;utilisateur</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="serverService"></a>
                    <span class="name">
                        <span ><b>serverService</b></span>
                        <a href="#serverService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(ServerService)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="25" class="link-to-prism">src/app/services/simulator/simulator.service.ts:25</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Service de communication avec le serveur</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="situationActuelle"></a>
                    <span class="name">
                        <span ><b>situationActuelle</b></span>
                        <a href="#situationActuelle"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/SimulatorInterface.html" target="_self" >BehaviorSubject&lt;SimulatorInterface | null&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;SimulatorInterface | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="41" class="link-to-prism">src/app/services/simulator/simulator.service.ts:41</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Object contenant les données propres à la situation actuelle (aujourd&#39;hui ou date de début selectionnée)</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="situationProjected"></a>
                    <span class="name">
                        <span ><b>situationProjected</b></span>
                        <a href="#situationProjected"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/SimulatorInterface.html" target="_self" >BehaviorSubject&lt;SimulatorInterface | null&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;SimulatorInterface | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="45" class="link-to-prism">src/app/services/simulator/simulator.service.ts:45</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Object contenant les données propres à la situation projetée à une date de fin choisie</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="situationSimulated"></a>
                    <span class="name">
                        <span ><b>situationSimulated</b></span>
                        <a href="#situationSimulated"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/SimulationInterface.html" target="_self" >BehaviorSubject&lt;SimulationInterface | null&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;SimulationInterface | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="49" class="link-to-prism">src/app/services/simulator/simulator.service.ts:49</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Object contenant les données propres à la situation simulée à une date de fin choisie</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="userService"></a>
                    <span class="name">
                        <span ><b>userService</b></span>
                        <a href="#userService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>inject(UserService)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="33" class="link-to-prism">src/app/services/simulator/simulator.service.ts:33</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Service de gestion des utilisateurs</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="whiteSimulatorNbOfDays"></a>
                    <span class="name">
                        <span ><b>whiteSimulatorNbOfDays</b></span>
                        <a href="#whiteSimulatorNbOfDays"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>BehaviorSubject&lt;number&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;number&gt;(0)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="92" class="link-to-prism">src/app/services/simulator/simulator.service.ts:92</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Nombre de jour à projeter pour la situation projetee du simulateur a blanc</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { inject, Injectable } from &#x27;@angular/core&#x27;
import { BehaviorSubject } from &#x27;rxjs&#x27;
import { HumanResourceService } from &#x27;../human-resource/human-resource.service&#x27;
import * as _ from &#x27;lodash&#x27;
import { ServerService } from &#x27;../http-server/server.service&#x27;
import { UserService } from &#x27;../user/user.service&#x27;
import { MainClass } from &#x27;../../libs/main-class&#x27;
import { SimulatorInterface } from &#x27;../../interfaces/simulator&#x27;
import { SimulationInterface } from &#x27;../../interfaces/simulation&#x27;
import { HRCategoryInterface } from &#x27;../../interfaces/hr-category&#x27;
import { ChartAnnotationBoxInterface } from &#x27;../../interfaces/chart-annotation-box&#x27;
import { decimalToStringDate, setTimeToMidDay } from &#x27;../../utils/dates&#x27;
import { fixDecimal } from &#x27;../../utils/numbers&#x27;

/**
 * Service de la page du simulateur
 */
@Injectable({
  providedIn: &#x27;root&#x27;,
})
export class SimulatorService extends MainClass {
  /**
   * Service de communication avec le serveur
   */
  serverService &#x3D; inject(ServerService)
  /**
   * Service de gestion des fiches agents
   */
  humanResourceService &#x3D; inject(HumanResourceService)
  /**
   * Service de gestion des utilisateurs
   */
  userService &#x3D; inject(UserService)
  /**
   * Loader display boolean
   */
  isLoading: BehaviorSubject&lt;boolean&gt; &#x3D; new BehaviorSubject&lt;boolean&gt;(false)
  /**
   * Object contenant les données propres à la situation actuelle (aujourd&#x27;hui ou date de début selectionnée)
   */
  situationActuelle: BehaviorSubject&lt;SimulatorInterface | null&gt; &#x3D; new BehaviorSubject&lt;SimulatorInterface | null&gt;(null)
  /**
   * Object contenant les données propres à la situation projetée à une date de fin choisie
   */
  situationProjected: BehaviorSubject&lt;SimulatorInterface | null&gt; &#x3D; new BehaviorSubject&lt;SimulatorInterface | null&gt;(null)
  /**
   * Object contenant les données propres à la situation simulée à une date de fin choisie
   */
  situationSimulated: BehaviorSubject&lt;SimulationInterface | null&gt; &#x3D; new BehaviorSubject&lt;SimulationInterface | null&gt;(null)
  /**
   * Liste de contentieux/sous contentieux selectionné(s) par l&#x27;utilisateur
   */
  contentieuOrSubContentieuId: BehaviorSubject&lt;Array&lt;number&gt; | null&gt; &#x3D; new BehaviorSubject&lt;Array&lt;number&gt; | null&gt;(null)
  /**
   * Date de début de simulation selectionnée par l&#x27;utilisateur (définie par défaut à aujourd&#x27;hui)
   */
  dateStart: BehaviorSubject&lt;Date&gt; &#x3D; new BehaviorSubject&lt;Date&gt;(new Date())
  /**
   * Date de fin de situation selectionnée par l&#x27;utilisateur
   */
  dateStop: BehaviorSubject&lt;Date | undefined&gt; &#x3D; new BehaviorSubject&lt;Date | undefined&gt;(undefined)
  /**
   * Categorie selectionnée par l&#x27;utilisateur (Magistrat/Fonctionnaire)
   */
  selectedCategory: BehaviorSubject&lt;HRCategoryInterface | null&gt; &#x3D; new BehaviorSubject&lt;HRCategoryInterface | null&gt;(null)
  /**
   * Fonction(s) selectionnées par l&#x27;utilisateur
   */
  selectedFonctionsIds: BehaviorSubject&lt;number[]&gt; &#x3D; new BehaviorSubject&lt;number[]&gt;([])
  /**
   * Popin pour graphiques de simulation
   */
  chartAnnotationBox: BehaviorSubject&lt;ChartAnnotationBoxInterface&gt; &#x3D; new BehaviorSubject&lt;ChartAnnotationBoxInterface&gt;({
    display: false,
    xMin: null,
    xMax: null,
    content: undefined,
  })
  /**
   * Indicateur de selection de paramètre de simulation
   */
  disabled: BehaviorSubject&lt;string&gt; &#x3D; new BehaviorSubject&lt;string&gt;(&#x27;disabled&#x27;)

  /**
   * Validation de la situation de début sur simulateur à blanc
   */
  isValidatedWhiteSimu: BehaviorSubject&lt;boolean&gt; &#x3D; new BehaviorSubject&lt;boolean&gt;(false)

  /**
   * Nombre de jour à projeter pour la situation projetee du simulateur a blanc
   */
  whiteSimulatorNbOfDays: BehaviorSubject&lt;number&gt; &#x3D; new BehaviorSubject&lt;number&gt;(0)

  /**
   * Constructeur
   */
  constructor() {
    super()

    this.watch(this.chartAnnotationBox.subscribe(() &#x3D;&gt; {}))

    this.watch(
      this.contentieuOrSubContentieuId.subscribe(() &#x3D;&gt; {
        if (this.contentieuOrSubContentieuId.getValue() !&#x3D;&#x3D; null &amp;&amp; this.contentieuOrSubContentieuId.getValue()?.length) {
          this.getSituation(this.contentieuOrSubContentieuId.getValue())
        }
      }),
    )

    this.watch(
      this.selectedFonctionsIds.subscribe(() &#x3D;&gt; {
        if (this.contentieuOrSubContentieuId.getValue() !&#x3D;&#x3D; null) {
          this.getSituation(this.contentieuOrSubContentieuId.getValue(), this.dateStart.getValue(), this.dateStop.getValue())
        }
      }),
    )

    this.watch(
      this.dateStart.subscribe(() &#x3D;&gt; {
        if (this.contentieuOrSubContentieuId.getValue() !&#x3D;&#x3D; null) {
          this.getSituation(this.contentieuOrSubContentieuId.getValue(), this.dateStart.getValue())
        }
      }),
    )

    this.watch(
      this.dateStop.subscribe(() &#x3D;&gt; {
        if (this.contentieuOrSubContentieuId.getValue() !&#x3D;&#x3D; null) {
          this.getSituation(this.contentieuOrSubContentieuId.getValue(), this.dateStart.getValue(), this.dateStop.getValue())
        }
      }),
    )
  }

  /**
   * Get situation data (current, at start date or at end date/projected depending on parameters passed)
   * @param {number | null} referentielId contentieux ID
   * @param {Date} dateStart optional start date of the situation
   * @param {Date} dateStop optional end date of the situation
   * @returns Situation data interface
   */
  getSituation(referentielId: Array&lt;number&gt; | null, dateStart?: Date, dateStop?: Date) {
    if (this.selectedCategory.getValue()?.id !&#x3D;&#x3D; null &amp;&amp; this.selectedFonctionsIds.getValue() !&#x3D;&#x3D; null) {
      this.isLoading.next(true)

      return this.serverService
        .post(&#x60;simulator/get-situation&#x60;, {
          backupId: this.humanResourceService.backupId.getValue(),
          referentielId: referentielId,
          dateStart: setTimeToMidDay(dateStart),
          dateStop: setTimeToMidDay(dateStop),
          functionIds: this.selectedFonctionsIds.getValue(),
          categoryId: this.selectedCategory.getValue()?.id,
        })
        .then((data) &#x3D;&gt; {
          if (dateStop) {
            this.situationProjected.next(data.data.situation.endSituation)
            this.situationActuelle.next(data.data.situation)
          } else this.situationActuelle.next(data.data.situation)
        })
        .then(() &#x3D;&gt; this.isLoading.next(false))
    } else return null
  }

  /**
   * Function used to compute the simulated situation
   * @param params containing the object parameters used to compute the simulation
   * @param simulation empty situation object to be filled
   */
  toSimulate(params: any, simulation: SimulationInterface, white &#x3D; false) {
    this.isLoading.next(true)
    console.log(params)
    console.log(this.userService.user)
    if (white &#x3D;&#x3D;&#x3D; true) {
      //console.log(params, simulation);
      this.serverService
        .post(&#x60;simulator/to-simulate-white&#x60;, {
          backupId: this.humanResourceService.backupId.getValue(),
          params: params,
          simulation: simulation,
          dateStart: setTimeToMidDay(this.dateStart.getValue()),
          dateStop: setTimeToMidDay(this.dateStop.getValue()),
          selectedCategoryId: this.selectedCategory.getValue()?.id,
        })
        .then((data) &#x3D;&gt; {
          console.log(&#x27;simu&#x27;, data.data)
          this.situationSimulated.next(data.data)
          this.isLoading.next(false)
        })
    } else {
      this.serverService
        .post(&#x60;simulator/to-simulate&#x60;, {
          backupId: this.humanResourceService.backupId.getValue(),
          params: params,
          simulation: simulation,
          dateStart: setTimeToMidDay(this.dateStart.getValue()),
          dateStop: setTimeToMidDay(this.dateStop.getValue()),
          selectedCategoryId: this.selectedCategory.getValue()?.id,
        })
        .then((data) &#x3D;&gt; {
          console.log(&#x27;simu&#x27;, data.data)
          this.situationSimulated.next(data.data)
          this.isLoading.next(false)
        })
    }
  }

  /**
   * Get the label of a field and return the full text name of the label
   * @param value label name
   * @returns text value of the designated label
   */
  getLabelTranslation(value: string): string {
    switch (value) {
      case &#x27;etpMag&#x27;:
        return &#x27;ETPT&#x27;
      case &#x27;etpFon&#x27;:
        return &#x27;ETPT greffe&#x27;
      case &#x27;totalIn&#x27;:
        return &#x27;entrées mensuelles&#x27;
      case &#x27;totalOut&#x27;:
        return &#x27;sorties mensuelles&#x27;
      case &#x27;lastStock&#x27;:
        return &#x27;stock&#x27;
      case &#x27;realDTESInMonths&#x27;:
        return &#x27;DTES&#x27;
      case &#x27;realCoverage&#x27;:
        return &#x27;taux de couverture&#x27;
      case &#x27;magRealTimePerCase&#x27;:
        return &#x27;temps moyen par dossier&#x27;
    }
    return &#x27;&#x27;
  }

  /**
   * Get the value of the displayed field
   * @param param label name
   * @param data simulated situation data object
   * @param initialValue specified if initialValue need to be converted or not in case of % or month
   * @param toCompute specified if the value returned is used afterwards to compute something, then let the value in decimal without unit
   * @returns label value as string or float
   */
  getFieldValue(param: string, data: SimulatorInterface | SimulationInterface | null, initialValue &#x3D; false, toCompute &#x3D; false): any {
    switch (param) {
      case &#x27;etpMag&#x27;:
        if (data?.etpMag &#x3D;&#x3D;&#x3D; null) {
          return &#x27;0&#x27;
        }
        return toCompute ? data?.etpMag : fixDecimal(data?.etpMag || 0) || &#x27;0&#x27;
      case &#x27;etpFon&#x27;:
        if (data?.etpFon &#x3D;&#x3D;&#x3D; null) {
          return &#x27;0&#x27;
        }
        return toCompute ? data?.etpFon : fixDecimal(data?.etpFon || 0) || &#x27;0&#x27;
      case &#x27;totalOut&#x27;: {
        if (data?.totalOut &#x3D;&#x3D;&#x3D; null) {
          return &#x27;N/R&#x27;
        }
        if (data?.totalOut &amp;&amp; data?.totalOut &gt;&#x3D; 0) {
          return toCompute ? data?.totalOut : Math.round(data?.totalOut)
        } else return &#x27;0&#x27;
      }
      case &#x27;totalIn&#x27;: {
        if (data?.totalIn &#x3D;&#x3D;&#x3D; null) {
          return &#x27;N/R&#x27;
        }
        if (data?.totalIn &amp;&amp; data?.totalIn &gt;&#x3D; 0) {
          return toCompute ? data?.totalIn : Math.round(data?.totalIn)
        } else return &#x27;0&#x27;
      }
      case &#x27;lastStock&#x27;: {
        if (data?.lastStock &#x3D;&#x3D;&#x3D; null) {
          return &#x27;N/R&#x27;
        }
        if (data?.lastStock) {
          //&amp;&amp; data?.lastStock &gt;&#x3D; 0) {
          return toCompute ? data?.lastStock : Math.round(data?.lastStock)
        } else return &#x27;0&#x27;
      }
      case &#x27;etpCont&#x27;:
        if (data?.etpCont &#x3D;&#x3D;&#x3D; null) {
          return &#x27;0&#x27;
        }
        return toCompute ? data?.etpCont : fixDecimal(data?.etpCont || 0) || &#x27;0&#x27;
      case &#x27;realCoverage&#x27;: {
        if (data?.realCoverage &#x3D;&#x3D;&#x3D; null) {
          return &#x27;N/R&#x27;
        }
        if (data?.realCoverage &amp;&amp; toCompute &#x3D;&#x3D;&#x3D; true) {
          return data?.realCoverage || &#x27;0&#x27;
        } else if (data?.realCoverage &amp;&amp; initialValue &#x3D;&#x3D;&#x3D; true) return Math.round(data?.realCoverage) + &#x27;%&#x27; || &#x27;0&#x27;
        else if (data?.realCoverage) return Math.round(data?.realCoverage * 100) + &#x27;%&#x27; || &#x27;0&#x27;
        else return &#x27;0&#x27;
      }
      case &#x27;realDTESInMonths&#x27;:
        if (data?.realDTESInMonths &#x3D;&#x3D;&#x3D; null) {
          return &#x27;N/R&#x27;
        } else if (data?.realDTESInMonths &amp;&amp; data?.realDTESInMonths &lt;&#x3D; 0) {
          return &#x27;0&#x27;
        } else if (data?.totalOut &#x3D;&#x3D;&#x3D; null) {
          return &#x27;N/R&#x27;
        }
        if (data?.realDTESInMonths &amp;&amp; data?.realDTESInMonths !&#x3D;&#x3D; Infinity) {
          if (data?.realDTESInMonths &lt;&#x3D; 0) {
            return &#x27;0&#x27;
          } else if (toCompute) return data?.realDTESInMonths
          else return fixDecimal(data?.realDTESInMonths) + &#x27; mois&#x27; || &#x27;0&#x27;
        }
        return &#x27;0&#x27;
      case &#x27;magRealTimePerCase&#x27;:
        if (data?.magRealTimePerCase &#x3D;&#x3D;&#x3D; null) {
          return &#x27;N/R&#x27;
        }
        if (initialValue) return fixDecimal(data?.magRealTimePerCase || 0) || &#x27;0&#x27;
        else {
          return toCompute ? data?.magRealTimePerCase : decimalToStringDate(data?.magRealTimePerCase, &#x27;:&#x27;) || &#x27;0&#x27;
        }
    }
    return &#x27;&#x27;
  }

  /**
   * Function to compute equal steps between a start and stop value
   * @param start
   * @param end
   * @param length
   * @returns Array of values between start and end value using a defined step
   */
  range(start: number, end: number, length: number) {
    const step &#x3D; (end - start) / (length - 1)
    return Array(length)
      .fill(0)
      .map((_, index) &#x3D;&gt; {
        if (index &#x3D;&#x3D;&#x3D; 0) return start
        else if (index &#x3D;&#x3D;&#x3D; length) return end
        else return start + step * index
      })
  }

  /**
   * Function used to generate a dataset using linear function
   * @param value1 start value
   * @param value2 end value
   * @param step number of step between values
   * @returns return a LinearDataset
   */
  generateLinearData(value1: number, value2: number, step: number, negativValues &#x3D; false) {
    if (value1 &lt; 0 &amp;&amp; negativValues &#x3D;&#x3D;&#x3D; false) value1 &#x3D; 0
    if (value2 &lt; 0 &amp;&amp; negativValues &#x3D;&#x3D;&#x3D; false) value2 &#x3D; 0

    let v &#x3D; null
    if (step &#x3D;&#x3D;&#x3D; 1 || step &#x3D;&#x3D;&#x3D; 2) {
      v &#x3D; [value1, value2]
    } else if (step &#x3D;&#x3D;&#x3D; 3) {
      v &#x3D; [value1, (value1 + value2) / 2, value2]
    } else if (value1 &#x3D;&#x3D;&#x3D; value2) {
      return Array(step).fill(value1)
    } else {
      v &#x3D; this.range(value1, value2, step)
    }

    return v
  }

  /**
   * Function used to get an Array of identical values
   * @param value1
   * @param size lenght of the array
   * @returns Array of values
   */
  generateData(value1: number, size: number) {
    if (value1 &lt; 0) value1 &#x3D; 0
    return Array(size).fill(value1)
  }
}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'SimulatorService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
