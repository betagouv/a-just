<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>a-just-front documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">a-just-front documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li>Injectables</li>
  <li >ContentieuxOptionsService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/services/contentieux-options/contentieux-options.service.ts</code>
        </p>


            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>Service des options des contentieux donc aujourd&#39;hui le temps moyens / dossier</p>

            </p>

            <p class="comment">
                <h3>Extends</h3>
            </p>
            <p class="comment">
                        <code><a href="../classes/MainClass.html" target="_self" >MainClass</a></code>
            </p>


            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#backupId" >backupId</a>
                            </li>
                            <li>
                                <a href="#backups" >backups</a>
                            </li>
                            <li>
                                <a href="#contentieuxLastUpdate" >contentieuxLastUpdate</a>
                            </li>
                            <li>
                                <a href="#contentieuxOptions" >contentieuxOptions</a>
                            </li>
                            <li>
                                <a href="#initValue" >initValue</a>
                            </li>
                            <li>
                                <a href="#optionsIsModify" >optionsIsModify</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#createEmpy" >createEmpy</a>
                            </li>
                            <li>
                                <a href="#duplicateBackup" >duplicateBackup</a>
                            </li>
                            <li>
                                <a href="#getAllContentieuxOptions" >getAllContentieuxOptions</a>
                            </li>
                            <li>
                                <a href="#getLastUpdate" >getLastUpdate</a>
                            </li>
                            <li>
                                <a href="#initDatas" >initDatas</a>
                            </li>
                            <li>
                                <a href="#loadBackupsAndId" >loadBackupsAndId</a>
                            </li>
                            <li>
                                <a href="#loadDetails" >loadDetails</a>
                            </li>
                            <li>
                                <a href="#onSaveDatas" >onSaveDatas</a>
                            </li>
                            <li>
                                <a href="#removeBackup" >removeBackup</a>
                            </li>
                            <li>
                                <a href="#renameBackup" >renameBackup</a>
                            </li>
                            <li>
                                <a href="#setInitValue" >setInitValue</a>
                            </li>
                            <li>
                                <a href="#updateOptions" >updateOptions</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(serverService: <a href="../injectables/ServerService.html" target="_self">ServerService</a>, humanResourceService: <a href="../injectables/HumanResourceService.html" target="_self">HumanResourceService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="47" class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:47</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Constructeur</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>serverService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ServerService.html" target="_self" >ServerService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>humanResourceService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/HumanResourceService.html" target="_self" >HumanResourceService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createEmpy"></a>
                    <span class="name">
                        <span ><b>createEmpy</b></span>
                        <a href="#createEmpy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>createEmpy()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="221"
                            class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:221</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>API création d&#39;une base vide</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="duplicateBackup"></a>
                    <span class="name">
                        <span ><b>duplicateBackup</b></span>
                        <a href="#duplicateBackup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>duplicateBackup()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="172"
                            class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:172</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Recopie d&#39;options dans un nouveau jeux de données</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAllContentieuxOptions"></a>
                    <span class="name">
                        <span ><b>getAllContentieuxOptions</b></span>
                        <a href="#getAllContentieuxOptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getAllContentieuxOptions(juridictionId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="102"
                            class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:102</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Récupération de l&#39;ensemble des juridictions des informations de la juridiction sélectionnée</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>juridictionId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getLastUpdate"></a>
                    <span class="name">
                        <span ><b>getLastUpdate</b></span>
                        <a href="#getLastUpdate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getLastUpdate()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="274"
                            class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:274</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Récupération de la dernière mise à jour des options d&#39;une juridiction</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initDatas"></a>
                    <span class="name">
                        <span ><b>initDatas</b></span>
                        <a href="#initDatas"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initDatas()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="65"
                            class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:65</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Récupération des données générales pour un utilisateur</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadBackupsAndId"></a>
                    <span class="name">
                        <span ><b>loadBackupsAndId</b></span>
                        <a href="#loadBackupsAndId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadBackupsAndId()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="75"
                            class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:75</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Récuparation des informations générales d&#39;une juridiction</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadDetails"></a>
                    <span class="name">
                        <span ><b>loadDetails</b></span>
                        <a href="#loadDetails"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadDetails(backupId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="91"
                            class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:91</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>API récupération des temps moyens par dossier d&#39;une juridiction</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>backupId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/ContentieuxOptionsInterface.html" target="_self" >Promise&lt;ContentieuxOptionsInterface[]&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onSaveDatas"></a>
                    <span class="name">
                        <span ><b>onSaveDatas</b></span>
                        <a href="#onSaveDatas"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onSaveDatas(isCopy: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="199"
                            class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:199</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Sauvegarde d&#39;un jeux de données dans la même ou une autre base</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>isCopy</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removeBackup"></a>
                    <span class="name">
                        <span ><b>removeBackup</b></span>
                        <a href="#removeBackup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>removeBackup()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="155"
                            class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:155</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>API suppréssion d&#39;une sauvegarde d&#39;options</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="renameBackup"></a>
                    <span class="name">
                        <span ><b>renameBackup</b></span>
                        <a href="#renameBackup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>renameBackup()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="244"
                            class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:244</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>API rénommage d&#39;un jeu de données</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setInitValue"></a>
                    <span class="name">
                        <span ><b>setInitValue</b></span>
                        <a href="#setInitValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setInitValue()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="291"
                            class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:291</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Passage des valeurs par défaut</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateOptions"></a>
                    <span class="name">
                        <span ><b>updateOptions</b></span>
                        <a href="#updateOptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateOptions(referentiel: <a href="../interfaces/ContentieuReferentielInterface.html" target="_self">ContentieuReferentielInterface</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="115"
                            class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:115</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Formatage des données pour les temps moyens / dossier d&#39;un référentiel</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>referentiel</td>
                                    <td>
                                                <code><a href="../interfaces/ContentieuReferentielInterface.html" target="_self" >ContentieuReferentielInterface</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="backupId"></a>
                    <span class="name">
                        <span ><b>backupId</b></span>
                        <a href="#backupId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>BehaviorSubject&lt;number | null&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;number | null&gt;(
    null
  )</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="35" class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:35</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Id du jeu de donnée en cours d&#39;utilisation</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="backups"></a>
                    <span class="name">
                        <span ><b>backups</b></span>
                        <a href="#backups"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/BackupInterface.html" target="_self" >BehaviorSubject&lt;BackupInterface[]&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;
    BackupInterface[]
  &gt;([])</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="25" class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:25</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Liste des jeux de données avec des valeurs</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="contentieuxLastUpdate"></a>
                    <span class="name">
                        <span ><b>contentieuxLastUpdate</b></span>
                        <a href="#contentieuxLastUpdate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>BehaviorSubject&lt;any&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;any&gt;({})</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="31" class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:31</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Date de dernière modification d&#39;un contentieux</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="contentieuxOptions"></a>
                    <span class="name">
                        <span ><b>contentieuxOptions</b></span>
                        <a href="#contentieuxOptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/ContentieuxOptionsInterface.html" target="_self" >BehaviorSubject&lt;ContentieuxOptionsInterface[]&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;ContentieuxOptionsInterface[]&gt;([])</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="20" class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:20</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Liste des temps moyens par jeux de données</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initValue"></a>
                    <span class="name">
                        <span ><b>initValue</b></span>
                        <a href="#initValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>BehaviorSubject&lt;boolean&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;boolean&gt;(false)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="47" class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:47</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Si c&#39;est la première fois que l&#39;on charge les données</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="optionsIsModify"></a>
                    <span class="name">
                        <span ><b>optionsIsModify</b></span>
                        <a href="#optionsIsModify"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>BehaviorSubject&lt;boolean&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;boolean&gt;(
    false
  )</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="41" class="link-to-prism">src/app/services/contentieux-options/contentieux-options.service.ts:41</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Si un temps à été modifié mais non sauvegardé</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable } from &#x27;@angular/core&#x27;
import { BehaviorSubject } from &#x27;rxjs&#x27;
import { BackupInterface } from &#x27;src/app/interfaces/backup&#x27;
import { ContentieuReferentielInterface } from &#x27;src/app/interfaces/contentieu-referentiel&#x27;
import { ContentieuxOptionsInterface } from &#x27;src/app/interfaces/contentieux-options&#x27;
import { MainClass } from &#x27;src/app/libs/main-class&#x27;
import { ServerService } from &#x27;../http-server/server.service&#x27;
import { HumanResourceService } from &#x27;../human-resource/human-resource.service&#x27;

/**
 * Service des options des contentieux donc aujourd&#x27;hui le temps moyens / dossier
 */
@Injectable({
  providedIn: &#x27;root&#x27;,
})
export class ContentieuxOptionsService extends MainClass {
  /**
   * Liste des temps moyens par jeux de données
   */
  contentieuxOptions: BehaviorSubject&lt;ContentieuxOptionsInterface[]&gt; &#x3D;
    new BehaviorSubject&lt;ContentieuxOptionsInterface[]&gt;([])
  /**
   * Liste des jeux de données avec des valeurs
   */
  backups: BehaviorSubject&lt;BackupInterface[]&gt; &#x3D; new BehaviorSubject&lt;
    BackupInterface[]
  &gt;([])
  /**
   * Date de dernière modification d&#x27;un contentieux
   */
  contentieuxLastUpdate: BehaviorSubject&lt;any&gt; &#x3D; new BehaviorSubject&lt;any&gt;({})
  /**
   * Id du jeu de donnée en cours d&#x27;utilisation
   */
  backupId: BehaviorSubject&lt;number | null&gt; &#x3D; new BehaviorSubject&lt;number | null&gt;(
    null
  )
  /**
   * Si un temps à été modifié mais non sauvegardé
   */
  optionsIsModify: BehaviorSubject&lt;boolean&gt; &#x3D; new BehaviorSubject&lt;boolean&gt;(
    false
  )
  /**
   * Si c&#x27;est la première fois que l&#x27;on charge les données
   */
  initValue: BehaviorSubject&lt;boolean&gt; &#x3D; new BehaviorSubject&lt;boolean&gt;(false)

  /**
   * Constructeur
   * @param serverService
   * @param humanResourceService
   */
  constructor(
    private serverService: ServerService,
    private humanResourceService: HumanResourceService
  ) {
    super()
  }

  /**
   * Récupération des données générales pour un utilisateur
   * @returns
   */
  initDatas() {
    this.humanResourceService.backupId.subscribe(() &#x3D;&gt; {
      this.loadBackupsAndId()
    })
  }

  /**
   * Récuparation des informations générales d&#x27;une juridiction
   * @returns
   */
  loadBackupsAndId() {
    const juridictionId &#x3D; this.humanResourceService.backupId.getValue()
    if (juridictionId !&#x3D;&#x3D; null) {
      this.optionsIsModify.next(false)
      this.getAllContentieuxOptions(juridictionId).then((result) &#x3D;&gt; {
        this.backups.next(result.backups)
        this.backupId.next(result.backupId)
      })
    }
  }

  /**
   * API récupération des temps moyens par dossier d&#x27;une juridiction
   * @param backupId
   * @returns
   */
  loadDetails(backupId: number): Promise&lt;ContentieuxOptionsInterface[]&gt; {
    return this.serverService
      .get(&#x60;contentieux-options/get-backup-details/${backupId}&#x60;)
      .then((r) &#x3D;&gt; r.data || [])
  }

  /**
   * Récupération de l&#x27;ensemble des juridictions des informations de la juridiction sélectionnée
   * @param juridictionId
   * @returns
   */
  getAllContentieuxOptions(juridictionId: number) {
    return this.serverService
      .post(&#x27;contentieux-options/get-all&#x27;, {
        juridictionId,
        backupId: this.backupId.getValue(),
      })
      .then((r) &#x3D;&gt; r.data)
  }

  /**
   * Formatage des données pour les temps moyens / dossier d&#x27;un référentiel
   * @param referentiel
   */
  updateOptions(referentiel: ContentieuReferentielInterface) {
    const options &#x3D; this.contentieuxOptions.getValue()

    const findIndexOptions &#x3D; options.findIndex(
      (a) &#x3D;&gt; a.contentieux.id &#x3D;&#x3D;&#x3D; referentiel.id
    )
    if (
      referentiel.averageProcessingTime ||
      referentiel.averageProcessingTimeFonc
    ) {
      if (findIndexOptions &#x3D;&#x3D;&#x3D; -1) {
        // add
        options.push({
          averageProcessingTime: referentiel.averageProcessingTime || null,
          averageProcessingTimeFonc:
            referentiel.averageProcessingTimeFonc || null,
          contentieux: referentiel,
        })
      } else {
        // update
        options[findIndexOptions] &#x3D; {
          ...options[findIndexOptions],
          averageProcessingTime: referentiel.averageProcessingTime || null,
          averageProcessingTimeFonc:
            referentiel.averageProcessingTimeFonc || null,
        }
      }
    } else if (findIndexOptions !&#x3D;&#x3D; -1) {
      // remove activity
      options.splice(findIndexOptions, 1)
    }

    this.contentieuxOptions.next(options)
    this.optionsIsModify.next(true)
  }

  /**
   * API suppréssion d&#x27;une sauvegarde d&#x27;options
   * @returns
   */
  removeBackup() {
    if (confirm(&#x27;Êtes-vous sûr de vouloir supprimer cette sauvegarde?&#x27;)) {
      return this.serverService
        .delete(&#x60;contentieux-options/remove-backup/${this.backupId.getValue()}&#x60;)
        .then(() &#x3D;&gt; {
          this.backupId.next(null)
          this.loadBackupsAndId()
        })
    }

    return Promise.resolve()
  }

  /**
   * Recopie d&#x27;options dans un nouveau jeux de données
   * @returns
   */
  duplicateBackup() {
    const backup &#x3D; this.backups
      .getValue()
      .find((b) &#x3D;&gt; b.id &#x3D;&#x3D;&#x3D; this.backupId.getValue())

    const backupName &#x3D; prompt(&#x27;Sous quel nom ?&#x27;, &#x60;${backup?.label} - copie&#x60;)
    if (backupName) {
      return this.serverService
        .post(&#x60;contentieux-options/duplicate-backup&#x60;, {
          backupId: this.backupId.getValue(),
          backupName,
          juridictionId: this.humanResourceService.backupId.getValue(),
        })
        .then((r) &#x3D;&gt; {
          this.backupId.next(r.data)
          this.loadBackupsAndId()
        })
    }

    return Promise.resolve()
  }

  /**
   * Sauvegarde d&#x27;un jeux de données dans la même ou une autre base
   * @param isCopy
   * @returns
   */
  onSaveDatas(isCopy: boolean) {
    let backupName &#x3D; null
    if (isCopy) {
      backupName &#x3D; prompt(&#x27;Sous quel nom ?&#x27;)
    }
    return this.serverService
      .post(&#x60;contentieux-options/save-backup&#x60;, {
        list: this.contentieuxOptions.getValue(),
        backupId: this.backupId.getValue(),
        backupName: backupName ? backupName : null,
        juridictionId: this.humanResourceService.backupId.getValue(),
      })
      .then((r) &#x3D;&gt; {
        this.backupId.next(r.data)
        this.loadBackupsAndId()
      })
  }

  /**
   * API création d&#x27;une base vide
   * @returns
   */
  createEmpy() {
    let backupName &#x3D; prompt(&#x27;Sous quel nom ?&#x27;)

    if (backupName) {
      return this.serverService
        .post(&#x60;contentieux-options/save-backup&#x60;, {
          list: [],
          backupName: backupName,
          juridictionId: this.humanResourceService.backupId.getValue(),
        })
        .then((r) &#x3D;&gt; {
          this.backupId.next(r.data)
          this.loadBackupsAndId()
        })
    }

    return Promise.resolve()
  }

  /**
   * API rénommage d&#x27;un jeu de données
   * @returns
   */
  renameBackup() {
    const getBackup &#x3D; this.backups
      .getValue()
      .find((b) &#x3D;&gt; b.id &#x3D;&#x3D;&#x3D; this.backupId.getValue())
    let backupName &#x3D; prompt(&#x27;Sous quel nom ?&#x27;, getBackup ? getBackup.label : &#x27;&#x27;)

    if (backupName) {
      return this.serverService
        .post(&#x60;contentieux-options/rename-backup&#x60;, {
          backupId: this.backupId.getValue(),
          backupName: backupName,
          juridictionId: this.humanResourceService.backupId.getValue(),
        })
        .then(() &#x3D;&gt; {
          const list &#x3D; this.backups.getValue()
          const index &#x3D; list.findIndex((b) &#x3D;&gt; b.id &#x3D;&#x3D;&#x3D; this.backupId.getValue())
          if (index !&#x3D;&#x3D; -1) {
            list[index].label &#x3D; &#x27;&#x27; + backupName
            this.backups.next(list)
          }
        })
    }

    return Promise.resolve()
  }

  /**
   * Récupération de la dernière mise à jour des options d&#x27;une juridiction
   * @returns
   */
  getLastUpdate() {
    if (this.backupId.getValue() !&#x3D;&#x3D; undefined)
      return this.serverService
        .post(&#x60;contentieux-options/get-last-update&#x60;, {
          backupId: this.backupId.getValue(),
          juridictionId: this.humanResourceService.backupId.getValue(),
        })
        .then((r) &#x3D;&gt; {
          this.contentieuxLastUpdate.next(r.data)
        })
    else return {}
  }

  /**
   * Passage des valeurs par défaut
   * @returns
   */
  setInitValue() {
    this.initValue.next(true)
    this.optionsIsModify.next(false)
  }
}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'ContentieuxOptionsService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
