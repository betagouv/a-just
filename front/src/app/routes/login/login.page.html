<aj-wrapper-no-connected
  [title]="'Un outil d\'aide à la décision et<br/>de prospective pour piloter<br/>votre juridiction'"
  *ngIf="isReady"
>
  <div class="logo">
    <img
      src="/assets/icons/bloc-marque/bloc-marque-white@2x.svg"
      alt="ministère de la justice"
    />
    <img src="/assets/icons/logos/white-192x192@1x.svg" alt="a-just" />
  </div>

  <div class="signup">
    <p>Vous n’avez pas encore de compte</p>
    <p><b>Rejoindre A-JUST</b></p>
    <a routerLink="/inscription"
      ><button class="outline white strict-border">
        <i class="ri-login-box-line"></i>Demander votre embarquement
      </button></a
    >
  </div>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <p>Vous avez déjà un compte</p>

    <ng-template [ngIf]="ssoIsActivate">
      <button
        class="outline white strict-border sso-bt"
        (click)="onUseSSO()"
        [ngClass]="{disabled: !canUseSSO}"
      >
        <img src="/assets/icons/bloc-marque/bloc-marque-white-light.svg" />
        Se connecter avec Pages Blanches
      </button>
  
      <div class="or"><p>ou</p></div>
    </ng-template>

    <h3>Se connecter avec son compte</h3>

    <label>Email</label>
    <input
      class="ethics-ui"
      placeholder=""
      formControlName="email"
      type="email"
    />
    <label>Mot de passe</label>
    <input
      class="ethics-ui"
      placeholder=""
      formControlName="password"
      type="password"
    />
    <span class="remember-me"
      ><input type="checkbox" formControlName="remember" /><label
        >Se souvenir de moi</label
      ></span
    >
    <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>
    <div class="remember-row">
      <!--<div><input type="checkbox">
        <p>Se souvenir de moi</p>
      </div>-->
      <div></div>
      <a routerLink="/mot-de-passe-oublie">Mot de passe oublié</a>
    </div>
    <input type="submit" class="big-button" value="Se connecter" />
  </form>

  <aj-popup
    *ngIf="needToGetCode !== null"
    [actions]="[
    { id: 'close', content: 'Annuler' },
    { id: 'connect', content: 'Se connecter', fill: true }]"
    [closeIcon]="true"
    (onClose)="needToGetCode = null"
    title="Connection"
    (selectedAction)="onContinuToLogin($event, codeInput)"
  >
    <div class="popin-code">
      <p>
        Vous devez saisir le code envoyé par mail pour confirmer votre
        connection.
      </p>
      <input #codeInput class="ethics-ui" placeholder="Code" type="text" [value]="needToGetCode" autofocus />
    </div>
  </aj-popup>
</aj-wrapper-no-connected>
