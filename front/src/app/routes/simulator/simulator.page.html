<aj-wrapper title="Simulateur" [actionTemplate]="actions" [alignLeft]="true">
  <div class="top-bar-container">
    <p>Période choisie :</p>
    <div class="container-timeline">
      <div class="container-timeline-button">
        <aj-date-select-blue
          class="select-disabled {{mooveClass}}"
          [value]="dateStart"
          (valueChange)="updateReferentielSelected('dateStart', $event)"
          [max]="dateStop"
          [min]="today"
        >
        </aj-date-select-blue>
        <div class="space"></div>
        <aj-date-select-blue
          [title]="'Fin de période'"
          [value]="dateStop"
          (valueChange)="updateReferentielSelected('dateStop', $event)"
          [min]="dateStart"
          [side]="'right'"
        >
        </aj-date-select-blue>
      </div>
      <div class="Rectangle">
        <div class="dot {{mooveClass}}"></div>
        <div class="blue-line {{mooveClass}}"></div>
      </div>
    </div>
  </div>
  <div class="items">
    <div class="item blue-bg">
      <p>Entrées mensuelles</p>
    </div>
    <div class="item">
      <p>Sorties mensuelles</p>
    </div>
    <div class="item blue-bg">
      <p>Stock</p>
    </div>
    <div class="item">
      <p>ETPT magistrat</p>
    </div>
    <div class="item blue-bg">
      <p>ETPT greffe</p>
    </div>
    <div class="item">
      <p>ETPT contractuels</p>
    </div>
    <div class="item blue-bg">
      <p>Taux de couverture</p>
    </div>
    <div class="item">
      <p>DTES</p>
    </div>
    <div class="item blue-bg">
      <p>Temps moyen / dossier</p>
    </div>
  </div>
  <div
    class="actual-situation"
    *ngIf="referentielIds.length !== 0"
    [@fadeInOut]
  >
    <div class="line-title">
      <p>
        Situation<br />
        à aujourd'hui
      </p>
    </div>

    <div class="line-item orange-bg">
      <input value="{{getFieldValue('totalIn')}}" />
    </div>
    <div class="line-item">
      <input value="{{getFieldValue('totalOut')}}" />
    </div>
    <div class="line-item orange-bg">
      <input value="{{getFieldValue('lastStock')}}" />
    </div>
    <div class="line-item">
      <input value="{{getFieldValue('etpMag')}}" />
    </div>
    <div class="line-item orange-bg">
      <input value="{{getFieldValue('ETPTGreffe')}}" />
    </div>
    <div class="line-item">
      <input value="{{getFieldValue('etpFon')}}" />
    </div>
    <div class="line-item orange-bg">
      <input value="{{getFieldValue('realCoverage')}}" />
    </div>
    <div class="line-item">
      <input value="{{getFieldValue('realDTESInMonths')}}" />
    </div>
    <div class="line-item orange-bg">
      <input value="{{getFieldValue('realTimePerCase')}}" />
    </div>
  </div>
</aj-wrapper>
<ng-template #actions>
  <aj-select
    title="Contentieux"
    class="contentieux"
    [defaultRealValue]="'Sélectionner un contentieux'"
    [value]="referentielIds"
    [datas]="formReferentiel"
    (valueChange)="updateReferentielSelected('referentiel', $event)"
    [multiple]="false"
  >
  </aj-select>
  <aj-select
    title="Sous Contentieux"
    [value]="subReferentielIds"
    [datas]="formReferentiel"
    [subReferentiel]="referentielIds"
    (valueChange)="updateReferentielSelected('subReferentiel', $event)"
  >
  </aj-select>
  <div class="export-button">
    <div class="shape">D</div>
    <p class="title">Exporter en PDF</p>
  </div>
</ng-template>
