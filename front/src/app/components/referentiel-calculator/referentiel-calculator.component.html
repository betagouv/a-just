<div *ngIf="referentiel">
  <div class="datas">
    <h3>{{ referentiel.parent ? referentiel.parent.label + ' - ' : '' }} {{ referentiel.label }}</h3>
    <p>Du début {{ dateStart | date:'MM/YYYY' }} à là fin {{ dateStop | date:'MM/YYYY' }}</p>
    <p>Nombre d'entrées : {{ totalIn }}</p>
    <p>Nombre de sorties : {{ totalOut }}</p>
    <p>Stock de fin : {{ totalStock }}</p>
    <p>ETP affectés :
      <ng-template ngFor let-etp [ngForOf]="etpAffected">
        {{etp.totalEtp}} {{etp.totalEtp > 1 ? etp.name+'s' : etp.name}}
      </ng-template>
    </p>
  </div>

  <div class="calcul">

    <div class="actual-activities">
      <p><b>Activité constatée</b></p>
      <p>Taux de couverture :</p>
      <aj-speedometer [percent]="(realCover || 0) * 100"></aj-speedometer>
      <p>DTES instantané : {{ realDTES }} mois</p>
      <p>Temps moyens par dossier observé : {{ realDelay && realDelay > 1 ? realDelay + ' heures' : realDelay + ' heure'
        }}</p>
    </div>

    <div class="calculate-activities">
      <p><b>Activité calculée</b></p>
      <p>Taux de couverture :</p>
      <aj-speedometer [percent]="(calculateCover || 0) * 100"></aj-speedometer>
      <p>Temps moyens par dossier saisi : {{ calculateDelay && calculateDelay > 1 ? calculateDelay + ' heures' :
        realDelay + ' heure'
        }}</p>
      <p>Sorties possibles : {{ calculateOut }}</p>
      <p>DTES calculé : {{ calculateDTES }} mois</p>
    </div>
  </div>
</div>